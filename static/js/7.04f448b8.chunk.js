(this.webpackJsonpbedatos_web=this.webpackJsonpbedatos_web||[]).push([[7],{986:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a(34),i=a(164),n=a.n(i),o=(a(334),a(335),a(211),a(48)),c=a(11),d=a.n(c),l=a(389),u=a(361),p=a(27),h=a(25),y=a(326),m=a(32),g=a(99),j=a(26),L=a(425),b=a(470),O=a(251),D=a(20),f=a.n(D),x=a(47),T=a(116),S=a(40),C=a(22),U=a(215),P=(a(33),a(303)),v=a(252),E=a.n(v),N=a(49),B=a(38),M=a(55),w=a(390),V=(a(545),a(475)),q=a(0);let _={tradeType:"",searchBy:"",searchValue:"",countryCode:"",fromDate:"",toDate:"",matchType:"",dateRange:"",searchFlag:!1,queryBuilder:[],SearchQueryCount:0,isMainSearch:!1};const I=e=>window.scrollTo(0,e.current.offsetTop);const R=j.b().shape({tradeType:j.c().required("Please select trade type"),searchBy:j.c().required("This field is required"),matchType:j.c().required("This field is required"),dateRange:j.c().required("This field is required"),fromDate:j.a().required("This field is required").test("checkGreaterStartEndTimes","From date should be less than To date",(function(e){return!e||Object(P.a)(e,this.parent.toDate)})),toDate:j.a().required("This field is required").test("checkGreaterStartEndTimes","To date should be greater than From date",(function(e){return!e||Object(P.a)(this.parent.fromDate,e)})).test("checkGreaterTimes","To date should be less than 3 years",(function(e){return!e||Object(P.b)(this.parent.fromDate,e)}))});t.default=Object(s.i)(Object(M.b)((e=>({loading:e.loader.loading,download_count:e.data.download_count,subscriptionId:e.data.subscriptionId,dataAccess_count:e.data.dataAccess_count,totalWorkspace:e.data.totalWorkspace,subUserCount:e.data.subUserCount,queryPerDay:e.data.queryPerDay,downloadArray:e.data.downloadArray,countryList:e.data.countryList,dataAccessInMonth:e.data.dataAccessInMonth,download_count_subUser:e.data.download_count_subUser,dataAccessUpto:e.data.dataAccessUpto,maxDownload:e.data.maxDownload})),(e=>({loadingStart:()=>e(Object(N.a)()),loadingStop:()=>e(Object(N.b)()),updateSubscriptionCount:t=>e(Object(B.i)(t)),updateDownloadArrayCount:t=>e(Object(B.h)(t)),setDloadCountSubuser:t=>e(Object(B.d)(t)),setSearchQuery:t=>e(Object(B.f)(t))})))((e=>{const t=localStorage.getItem("userToken"),i=localStorage.getItem("user"),c=i?JSON.parse(i):{},j=(c.firstname,c.lastname,c.email,c.uplineId>0?c.uplineId:c.userid),D=Object(s.g)(),P=e.location.state?e.location.state.search_id:null,v=e.location.state&&e.location.state.workspace_id?e.location.state.workspace_id:"",N=e.location.state?e.location.state.workspace_name:"",B=e.location.state?e.location.state.workspace_desc:"",M=e.location.state?e.location.state.workspaceId:"",Y=[{value:e&&e.location.state&&e.location.state.searchValue,label:e&&e.location.state&&e.location.state.searchValue}],Q=Object(r.useRef)(),[A,k]=Object(r.useState)(!1),[F,$]=Object(r.useState)([]),[J,W]=Object(r.useState)(20),[H,X]=Object(r.useState)(1),[K,z]=Object(r.useState)(0),[G,Z]=Object(r.useState)(!1),[ee,te]=Object(r.useState)(_.searchValue),[ae,re]=Object(r.useState)([]),[se,ie]=Object(r.useState)([]),[ne,oe]=Object(r.useState)([]),[ce,de]=Object(r.useState)([]),[le,ue]=Object(r.useState)([]),[pe,he]=Object(r.useState)([]),[ye,me]=Object(r.useState)([]),[ge,je]=Object(r.useState)([]),[Le,be]=Object(r.useState)([]),[Oe,De]=Object(r.useState)([]),[fe,xe]=Object(r.useState)([]),[Te,Se]=Object(r.useState)([]),[Ce,Ue]=Object(r.useState)([]),[Pe,ve]=Object(r.useState)([]),[Ee,Ne]=Object(r.useState)(),[Be,Me]=Object(r.useState)(""),[we,Ve]=Object(r.useState)("desc"),[qe,_e]=Object(r.useState)(!1),[Ie,Re]=Object(r.useState)(!1),[Ye,Qe]=Object(r.useState)(!1),[Ae,ke]=Object(r.useState)(!1),[Fe,$e]=Object(r.useState)(!1),[Je,We]=Object(r.useState)(!1),[He,Xe]=Object(r.useState)([]),[Ke,ze]=Object(r.useState)([]),[Ge,Ze]=Object(r.useState)([]),[et,tt]=Object(r.useState)([]),[at,rt]=Object(r.useState)([]),[st,it]=Object(r.useState)([]),[nt,ot]=Object(r.useState)([]),[ct,dt]=Object(r.useState)(""),[lt,ut]=Object(r.useState)(!1),[pt,ht]=Object(r.useState)(!0),[yt,mt]=Object(r.useState)(0),[gt,jt]=Object(r.useState)([]),[Lt,bt]=Object(r.useState)([]),[Ot,Dt]=Object(r.useState)(""),[ft,xt]=Object(r.useState)(""),[Tt,St]=Object(r.useState)(""),[Ct,Ut]=Object(r.useState)([]),[Pt,vt]=Object(r.useState)([]),[Et,Nt]=Object(r.useState)([]),[Bt,Mt]=Object(r.useState)([]),[wt,Vt]=Object(r.useState)([]),[qt,_t]=Object(r.useState)([]),[It,Rt]=Object(r.useState)([]),Yt=Object(r.useRef)(),Qt=Object(r.useRef)(),At=Object(r.useRef)(),kt=Object(r.useRef)(),[Ft,$t]=Object(r.useState)(!1),[Jt,Wt]=Object(r.useState)(""),[Ht,Xt]=Object(r.useState)(""),[Kt,zt]=Object(r.useState)(""),[Gt,Zt]=Object(r.useState)(""),[ea,ta]=Object(r.useState)(""),[aa,ra]=Object(r.useState)([]),[sa,ia]=Object(r.useState)([]),[na,oa]=Object(r.useState)([]),[ca,da]=Object(r.useState)([]),[la,ua]=Object(r.useState)([]),[pa,ha]=Object(r.useState)([]),[ya,ma]=Object(r.useState)(!1),[ga,ja]=Object(r.useState)(new Date),[La,ba]=Object(r.useState)(new Date),[Oa,Da]=Object(r.useState)([]),[fa,xa]=Object(r.useState)(1),[Ta,Sa]=Object(r.useState)([]),[Ca,Ua]=Object(r.useState)([]),Pa=()=>{$t(!Ft),Xt(""),zt(""),Zt(""),ta("")},va=t=>{Object(S.a)({method:"PUT",url:`user-management/user-subscription/update/${e.subscriptionId}`,data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{console.log("user",e.data)})).catch((e=>{console.log("Err",e)}))};Object(r.useEffect)((()=>{Object(V.a)(D)}),[e.loading,la,aa,G]);const Ea=t=>{e.totalWorkspace>0?f.a.fire({title:"Create Workspace !",text:`Available Limit ${e.totalWorkspace}. \n Are you sure you want to Create New Workspace ?`,icon:"warning",dangerMode:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then((e=>{e.value&&$t(t)})):f.a.fire({title:"Create Workspace !",text:"Your Workspace Limit Exhausted",icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"}).then((e=>{}))},Na=()=>{const e={workspace_id:v,search_id:Ee,name:N,description:B,is_active:"Y",id:M};Object(x.a)({method:"POST",url:"/activity-management/workspace/savesearch",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{f.a.fire({title:"Success",text:"Search query saved successfully",icon:"success"})})).catch((e=>{let t="Somethhing went wrong, please try again.";e.data.errorMsg&&(t=e.data.errorMsg),f.a.fire({title:"Oops!",text:t,icon:"error"})}))};Object(r.useEffect)((()=>()=>{_={}}),[]),Object(r.useEffect)((()=>{ee&&ee.tradeType&&Ia(ee),e&&e.location.state&&e.location.state.searchValue&&ua(Y),_={..._,tradeType:e&&e.location.state&&e.location.state.tradeType?e.location.state.tradeType:"",matchType:"",searchBy:e&&e.location.state&&e.location.state.searchType?e.location.state.searchType:"",searchValue:e&&e.location.state&&e.location.state.searchType,countryCode:e&&e.location.state&&e.location.state.countryCode,fromDate:"",toDate:"",dateRange:"",queryBuilder:[]},e&&e.location.state&&e.location.state.tradeType&&ar(e&&e.location.state&&"IMPORT"==e.location.state.tradeType?"I":"E")}),[H,J,Be,we]);const Ba=e=>{X(1),W(e)},Ma=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];console.log("HAndle search Hitted >>> ",t),dt("N"),e.loadingStart();var r=[];r.tradeType=t.tradeType,r.searchBy=t.searchBy,r.searchValue=t.searchValue,r.countryCode=t.countryCode,r.fromDate=d()(t.fromDate).format("YYYY-MM-DD"),r.toDate=d()(t.toDate).format("YYYY-MM-DD"),r.matchType=t.matchType,r.searchFlag=t.searchFlag,r.queryBuilder=t.queryBuilder,t.portOriginList&&(ue(t.portOriginList),r.portOriginList=t.portOriginList),t.portDestinationList&&(je(t.portDestinationList),r.portDestinationList=t.portDestinationList),t.hsCodeList&&(xe(t.hsCodeList),r.hsCodeList=t.hsCodeList),t.hsCode4DigitList&&(Ze(t.hsCode4DigitList),r.hsCode4DigitList=t.hsCode4DigitList),t.importerList&&(re(t.importerList),r.importerList=t.importerList),t.exporterList&&(oe(t.exporterList),r.exporterList=t.exporterList),t.cityOriginList&&(Ue(t.cityOriginList),r.cityOriginList=t.cityOriginList),t.cityDestinationList&&(ve(t.cityDestinationList),r.cityDestinationList=t.cityDestinationList),t.shipmentModeList&&(ze(t.shipmentModeList),r.shipmentModeList=t.shipmentModeList),t.stdUnitList&&(bt(t.stdUnitList),r.stdUnitList=t.stdUnitList),t.minQuantity&&(r.rangeQuantityStart=t.minQuantity),t.maxQuantity&&(r.rangeQuantityEnd=t.maxQuantity),t.minValue&&(r.rangeValueUsdStart=t.minValue),t.maxValue&&(r.rangeValueUsdEnd=t.maxValue),t.minUnitPrice&&(r.rangeUnitPriceUsdStart=t.minUnitPrice),t.maxUnitPrice&&(r.rangeUnitPriceUsdEnd=t.maxUnitPrice),t.consumptionTypeList&&(vt(t.consumptionTypeList),r.consumptionType=t.consumptionTypeList),t.incotermList&&(Mt(t.incotermList),r.incoterm=t.incotermList),t.notifyPartyList&&(_t(t.notifyPartyList),r.notifyParty=t.notifyPartyList),t.descriptionList&&(r.conditionProductDesc=t.conditionProductDescription,r.productDesc=t.descriptionList),r.isMainSearch=t.isMainSearch,te(r);let s={tradeType:t.tradeType,searchBy:t.searchBy,searchValue:t.searchValue,countryCode:t.countryCode,fromDate:d()(t.fromDate).format("YYYY-MM-DD"),toDate:d()(t.toDate).format("YYYY-MM-DD"),matchType:t.matchType};localStorage.setItem("searchParam",JSON.stringify(s)),""!=Ee?(rt([]),_a(r,a)):e.queryPerDay>0?_a(r):e.queryPerDay<=0&&null!=e.queryPerDay&&(e.loadingStop(),f.a.fire({title:"Search !",text:"Your Search Limit Exhausted",icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"}).then((e=>{})))},wa=()=>{if(K*fa<=e.maxDownload)if(ee&&ee.tradeType){const t={searchType:"TRADE",tradeType:ee.tradeType,fromDate:ee.fromDate,toDate:ee.toDate,searchBy:ee.searchBy,searchValue:ee.searchValue,countryCode:ee.countryCode,pageNumber:0,numberOfRecords:Math.round(e.maxDownload/fa),searchId:"",hsCodeList:fe,exporterList:ne,importerList:ae,cityOriginList:Ce,cityDestinationList:Pe,portOriginList:le,portDestinationList:ge,orderByColumn:Be,orderByMode:we,matchType:ee.matchType,hsCode4DigitList:Ge,queryBuilder:ee.queryBuilder,shipModeList:Ke,stdUnitList:Lt};Object(p.a)({method:"POST",url:"search-management/search",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];const a=ee.countryCode.map((e=>e.toUpperCase())),r=(a.includes("IND"),a.includes("SEZ"),ee.tradeType.toLowerCase());t="export"===r?e.data.expForeignList:"import"===r?e.data.impForeignList:[];let s=[];new Date;for(let i=0;i<t.length;i++){let e={},a=t[i];for(let t in a){a[t];null!=a[t]&&(e[t]=a[t])}s.push(e)}Da(s),qa(ee,1,s)})).catch((e=>{console.log("Err == ",e),Z(!1)}))}else f.a.fire({title:"Alert!",text:"Please Search data first, then export",icon:"error",confirmButtonText:"OK"});else f.a.fire({title:"Alert!",text:`You cannot download more than ${Math.round(e.maxDownload/fa)} records in a single search. Please refine your search criteria.`,icon:"error",confirmButtonText:"OK"})},Va=t=>{e.download_count,t.length;let a=[],r=[];F.map(((e,r)=>{t.map(((t,r)=>{e.id==t&&a.push(e)}))}));for(let e=0;e<a.length;e++){let t={},s=a[e];for(let e in s){s[e];null!=s[e]&&(t[e]=s[e])}r.push(t)}Da(r),qa(ee,2,r)},qa=(a,r,s)=>{let i=[],n=[];i=JSON.parse(JSON.stringify(e.downloadArray));for(let e=0;e<s.length;e++){let t=s[e];i.includes(t.id)?console.log("Download values found ========= ",t.id):(n.push(t.id),i.push(t.id))}let o=e.download_count-n.length*fa,d=e.download_count_subUser-s.length*fa;console.log("remainingDload ======= ",o),o>0&&(c.uplineId>0&&d>0||0==c.uplineId)?f.a.fire({title:"Download!",html:`One row is equal to <b>${fa}</b> points. <br>Available Download <b>${c.uplineId>0?e.download_count_subUser:e.download_count}</b>. <br> Total Record to Download <b>${c.uplineId>0?s.length:n.length}</b>. \n        <br> Total Points to deduct <b>${c.uplineId>0?s.length*fa:n.length*fa}</b>.<br> Remaining Download <b>${c.uplineId>0?d:o}</b>. <br> Are you sure you want to Download ?`,icon:"warning",dangerMode:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then((r=>{if(r.value){const r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",h=".xlsx",y=a.tradeType+"_"+a.countryCode+"_"+a.fromDate+"_"+a.toDate,m={Sheets:{data:u.a.table_to_sheet(document.getElementById("reportXLS"),{header:1})},SheetNames:["data"]},g=u.b(m,{bookType:"xlsx",type:"array"}),L=new Blob([g],{type:r});l.saveAs(L,y+h),Z(!1),c.uplineId>0?e.setDloadCountSubuser({download_count_subUser:d}):e.updateSubscriptionCount({download_count:o,subscriptionId:e.subscriptionId,dataAccess_count:e.dataAccess_count,subUserCount:e.subUserCount,totalWorkspace:e.totalWorkspace,queryPerDay:e.queryPerDay}),n.length>0&&e.updateDownloadArrayCount({downloadArray:i}),va({downloadLimit:o}),c.uplineId>0&&(p={downloadLimit:d},Object(S.a)({method:"PUT",url:`user-management/user/${t}`,data:JSON.stringify(p),headers:{"Content-Type":"application/json"}}).then((e=>{console.log("user",e.data)})).catch((e=>{console.log("Err",e)}))),(t=>{e.downloadArray;const a={userId:j,downloadedRecords:t};Object(x.a)({method:"POST",url:"/activity-management/download-tracker/update",data:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>{console.log("user",e.data)})).catch((e=>{console.log("Err",e)}))})(i),Qa(Ee,s.length)}var p})):f.a.fire({title:"Download!",text:"Your Download Limit Exhausted",icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"}).then((e=>{}))},_a=function(t){console.log("params ---------- ",t),I(Q),Z(!0),We(!0),"E"==t.tradeType||t.tradeType,xa(1);let a=[];const r={searchType:"TRADE",tradeType:t.tradeType,fromDate:t.fromDate,toDate:t.toDate,searchBy:t.searchBy,searchValue:t.searchValue,countryCode:t.countryCode,pageNumber:0,numberOfRecords:J,hsCodeList:t.hsCodeList,exporterList:t.exporterList,importerList:t.importerList,cityOriginList:t.cityOriginList,cityDestinationList:t.cityDestinationList,portOriginList:t.portOriginList,portDestinationList:t.portDestinationList,orderByColumn:Be,orderByMode:we,hsCode4DigitList:t.hsCode4DigitList,matchType:t.matchType,queryBuilder:t.queryBuilder,shipModeList:t.shipmentModeList,stdUnitList:t.stdUnitList,rangeQuantityStart:t.rangeQuantityStart,rangeQuantityEnd:t.rangeQuantityEnd,consumptionType:t.consumptionType,rangeValueUsdStart:t.rangeValueUsdStart,rangeValueUsdEnd:t.rangeValueUsdEnd,rangeUnitPriceUsdStart:t.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:t.rangeUnitPriceUsdEnd,incoterm:t.incoterm,notifyParty:t.notifyParty,productDesc:t.productDesc,conditionProductDesc:t.conditionProductDesc};console.log("params.returnSearchId === ",v),t.returnSearchId&&(r.searchId=t.returnSearchId),!P||void 0!=v&&""!=v||t.isMainSearch||(r.searchId=P),Object(p.a)({method:"POST",url:"search-management/search",data:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((async s=>{e.setSearchQuery(r);const i=t.countryCode.map((e=>e.toUpperCase())),n=(i.includes("IND"),i.includes("SEZ"),t.tradeType.toLowerCase());if(a="export"===n?s.data.expForeignList:"import"===n?s.data.impForeignList:[],a&&a.length>0){$(a),ut(!1),Ra(t,s.data.searchId);let i=[],n=Object.keys(a[0]);for(var o in n)null!=a[0][n[o]]&&i.push(n[o]);rt(i),Ne(s.data.searchId),1==t.searchFlag&&""==Be&&(e.updateSubscriptionCount({download_count:e.download_count,subscriptionId:e.subscriptionId,dataAccess_count:e.dataAccess_count,totalWorkspace:e.totalWorkspace,subUserCount:e.subUserCount,queryPerDay:e.queryPerDay-1}),va({queryPerDay:e.queryPerDay-1})),Object(p.a)({method:"POST",url:"search-management/countrywisecount",data:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((e=>{let t=e.data.countryWiseCount.map((e=>{let{ctry_code:t,ctry_name:a,shipment_count:r}=e;return{label:`${a} (${r})`,value:t}}));Sa(t)})),Aa(t),ka(t),Fa(t),$a(t),Ja(t),Xa(t),Ha(t),Wa(t),Ka(t),za(t),Z(!1),await async function(e){try{let t="export"==e.tradeType.toLowerCase()?"export_purpose":"import_purpose";e.columnName=t,Object(p.a)({method:"POST",url:"/search-management/listdistinctcolumnvalue",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{let t=e.data.distinctColumnValuesList.map((e=>{let{column_name:t,records_count:a}=e;return{label:`${t} (${a})`,value:t}}));Nt(t)}))}catch(t){console.log(t),Nt([])}}(r),await async function(e){try{e.columnName="incoterm",Object(p.a)({method:"POST",url:"/search-management/listdistinctcolumnvalue",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{let t=e.data.distinctColumnValuesList;if(t&&t.length>0){let e=t.map((e=>{let{column_name:t,records_count:a}=e;return{label:`${t} (${a})`,value:t}}));Vt(e)}else Vt([])}))}catch(t){console.log(t),Vt([])}}(r),await async function(e){try{e.columnName="notify_party_name",Object(p.a)({method:"POST",url:"/search-management/listdistinctcolumnvalue",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{let t=e.data.distinctColumnValuesList.map((e=>{let{column_name:t,records_count:a}=e;return{label:`${t} (${a})`,value:t}}));Rt(t)}))}catch(t){console.log(t),Rt([])}}(r)}else $([]),Z(!1),z(0),rt([]),ut(!0);e.loadingStop()})).catch((t=>{console.log("Err",t),Ne(""),$([]),Z(!1),rt([]),e.loadingStop()}))},Ia=t=>{I(Q),Z(!0),We(!0);let a=[];const r={searchType:"TRADE",tradeType:t.tradeType,fromDate:t.fromDate,toDate:t.toDate,searchBy:t.searchBy,searchValue:t.searchValue,countryCode:t.countryCode,pageNumber:H-1,numberOfRecords:J,searchId:Ee,hsCodeList:t.hsCodeList,exporterList:t.exporterList,importerList:t.importerList,cityOriginList:t.cityOriginList,cityDestinationList:t.cityDestinationList,portOriginList:t.portOriginList,portDestinationList:t.portDestinationList,orderByColumn:Be,orderByMode:we,hsCode4DigitList:t.hsCode4DigitList,matchType:t.matchType,queryBuilder:t.queryBuilder,shipModeList:t.shipmentModeList,stdUnitList:t.stdUnitList,rangeQuantityStart:t.rangeQuantityStart,rangeQuantityEnd:t.rangeQuantityEnd,consumptionType:t.consumptionType,rangeValueUsdStart:t.rangeValueUsdStart,rangeValueUsdEnd:t.rangeValueUsdEnd,rangeUnitPriceUsdStart:t.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:t.rangeUnitPriceUsdEnd,incoterm:t.incoterm,notifyParty:t.notifyParty,productDesc:t.productDesc,conditionProductDesc:t.conditionProductDesc};Object(p.a)({method:"POST",url:"search-management/search",data:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((r=>{const s=t.countryCode.map((e=>e.toUpperCase())),i=(s.includes("IND"),s.includes("SEZ"),t.tradeType.toLowerCase());if(a="export"===i?r.data.expForeignList:"import"===i?r.data.impForeignList:[],a&&a.length>0){$(a),ut(!1),Ra(t,r.data.searchId);let e=[],s=Object.keys(a[0]);for(var n in s)null!=a[0][s[n]]&&e.push(s[n]);rt(e),Ne(r.data.searchId),Z(!1)}else $([]),Z(!1),z(0),rt([]),ut(!0);e.loadingStop()})).catch((t=>{console.log("Err",t),Ne(""),$([]),Z(!1),rt([]),e.loadingStop()}))},Ra=(e,t)=>{We(!0);const a={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:H-1,numberOfRecords:J,searchId:t,hsCodeList:e.hsCodeList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCode4DigitList:e.hsCode4DigitList,matchType:e.matchType,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/searchcount",data:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>{z(e.data),Ya(e.data,t),setTimeout(We(!1),1e3)})).catch((e=>{console.log("Err",e),z(0),ut(!0)}))},Ya=(e,t)=>{const a={totalRecords:e};Object(p.a)({method:"PUT",url:`/search-management/updatesearchcount/${t}`,data:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>{console.log("Res",e.data)})).catch((e=>{console.log("Err",e),z(0)}))},Qa=(e,t)=>{Object(p.a)({method:"PUT",url:`/search-management/downloadsearch?searchId=${e}&recordsDownloaded=${t}`,headers:{"Content-Type":"application/json"}}).then((e=>{console.log("Res",e.data)})).catch((e=>{console.log("Err",e)}))},Aa=e=>{ke(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:H-1,numberOfRecords:J,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ee,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listimporters",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.importersList&&e.data.importersList.forEach((e=>{let a={value:e.importer_name,label:e.importer_name+" ["+e.shipment_count+"]"};t.push(a)})),ie(t),ke(!1)})).catch((e=>{console.log("Err"),ie([]),ke(!1)}))},ka=e=>{$e(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:H-1,numberOfRecords:J,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ee,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listexporters",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.exportersList&&e.data.exportersList.forEach((e=>{let a={value:e.exporter_name,label:e.exporter_name+" ["+e.shipment_count+"]"};t.push(a)})),de(t),$e(!1)})).catch((e=>{console.log("Err",e),de([]),$e(!1)}))},Fa=e=>{const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:H-1,numberOfRecords:J,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ee,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listindianports",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.portsList&&e.data.portsList.forEach((e=>{let a={value:e.port_name,label:e.port_name+" ["+e.shipment_count+"]"};t.push(a)})),he(t)})).catch((e=>{console.log("Err",e),he([])}))},$a=e=>{Re(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:H-1,numberOfRecords:J,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ee,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listforeignports",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.portsList&&e.data.portsList.forEach((e=>{let a={value:e.port_name,label:e.port_name+"["+e.shipment_count+"]"};t.push(a)})),me(t),Re(!1)})).catch((e=>{console.log("Err",e),me([]),Re(!1)}))},Ja=e=>{_e(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:d()(e.fromDate).format("YYYY-MM-DD"),toDate:d()(e.toDate).format("YYYY-MM-DD"),searchBy:e.searchBy?e.searchBy:"HS_CODE",searchValue:e.searchValue?e.searchValue:["2"],countryCode:e.countryCode,pageNumber:H-1,numberOfRecords:J,matchType:e.matchType?e.matchType:"L",portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ee,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listhscodes",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.hscodesList&&e.data.hscodesList.forEach((e=>{let a={value:e.hscode,label:e.hscode+" ["+e.shipment_count+"]"};t.push(a)})),Se(t),_e(!1)})).catch((e=>{console.log("Err",e),Se([]),_e(!1)}))},Wa=e=>{_e(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:H-1,numberOfRecords:J,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ee,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listhscodes4digit",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.hscodesList&&e.data.hscodesList.forEach((e=>{let a={value:e.hscode,label:e.hscode+" ["+e.shipment_count+"]"};t.push(a)})),tt(t),_e(!1)})).catch((e=>{console.log("Err",e),tt([]),_e(!1)}))},Ha=e=>{Qe(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:H-1,numberOfRecords:J,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ee,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listforeigncountries",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.countriesList&&e.data.countriesList.forEach((e=>{let a={value:e.country_name,label:e.country_name+" ["+e.shipment_count+"]"};t.push(a)})),be(t),setTimeout(Qe(!1),1e3)})).catch((e=>{console.log("Err"),be([]),Qe(!1)}))},Xa=e=>{const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:H-1,numberOfRecords:J,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ee,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listindiancities",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.citiesList&&e.data.citiesList.forEach((e=>{let a={value:e.city_name,label:e.city_name+" ["+e.shipment_count+"]"};t.push(a)})),De(t)})).catch((e=>{console.log("Err"),De([])}))},Ka=e=>{const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:H-1,numberOfRecords:J,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ee,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listshipmentmode",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.shipmentModeList&&e.data.shipmentModeList.forEach((e=>{let a={value:e.ship_mode,label:e.ship_mode};t.push(a)})),Xe(t)})).catch((e=>{console.log("Err"),Xe([])}))},za=e=>{const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:H-1,numberOfRecords:J,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ee,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/liststdunit",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.stdUnitList&&e.data.stdUnitList.forEach((e=>{let a={value:e.std_unit,label:e.std_unit};t.push(a)})),jt(t)})).catch((e=>{console.log("Err"),jt([])}))},Ga=e=>{if(e.portOriginList&&ue(e.portOriginList),e.portDestinationList&&je(e.portDestinationList),e.hsCodeList&&xe(e.hsCodeList),e.hsCode4DigitList&&Ze(e.hsCode4DigitList),e.importerList&&re(e.importerList),e.exporterList&&oe(e.exporterList),e.cityOriginList&&Ue(e.cityOriginList),e.cityDestinationList&&ve(e.cityDestinationList),e.shipmentModeList&&ze(e.shipmentModeList),e.stdUnitList&&bt(e.stdUnitList),e.returnSearchId&&Ut(e.returnSearchId),e.consumptionTypeList&&vt(e.consumptionTypeList),e.incotermList&&Mt(e.incotermList),e.notifyPartyList&&_t(e.notifyPartyList),ee&&ee.tradeType){let t=ee;t.portOriginList=e.portOriginList,t.portDestinationList=e.portDestinationList,t.hsCodeList=e.hsCodeList,t.importerList=e.importerList,t.exporterList=e.exporterList,t.cityOriginList=e.cityOriginList,t.cityDestinationList=e.cityDestinationList,t.hsCode4DigitList=e.hsCode4DigitList,t.shipmentModeList=e.shipmentModeList,t.stdUnitList=e.stdUnitList,t.searchFlag=!1,e.portOriginList&&(t.portOriginList=e.portOriginList),e.portDestinationList&&(t.portDestinationList=e.portDestinationList),e.hsCodeList&&(t.hsCodeList=e.hsCodeList),e.hsCode4DigitList&&(t.hsCode4DigitList=e.hsCode4DigitList),e.importerList&&(t.importerList=e.importerList),e.exporterList&&(t.exporterList=e.exporterList),e.cityOriginList&&(t.cityOriginList=e.cityOriginList),e.cityDestinationList&&(t.cityDestinationList=e.cityDestinationList),e.shipmentModeList&&(t.shipModeList=e.shipmentModeList),e.stdUnitList&&(t.stdUnitList=e.stdUnitList),e.minQuantity&&(t.rangeQuantityStart=e.minQuantity),e.maxQuantity&&(t.rangeQuantityEnd=e.maxQuantity),e.minValue&&(t.rangeValueUsdStart=e.minValue),e.maxValue&&(t.rangeValueUsdEnd=e.maxValue),e.minUnitPrice&&(t.rangeUnitPriceUsdStart=e.minUnitPrice),e.maxUnitPrice&&(t.rangeUnitPriceUsdEnd=e.maxUnitPrice),e.consumptionTypeList&&(t.consumptionType=e.consumptionTypeList),e.incotermList&&(t.incoterm=e.incotermList),e.notifyPartyList&&(t.notifyParty=e.notifyPartyList),e.descriptionList&&(t.conditionProductDesc=e.conditionProductDescription,t.productDesc=e.descriptionList),e.returnSearchId&&(t.returnSearchId=e.returnSearchId),te(t),_a(t)}k(!1)},Za=t=>{const a={workspace_id:"newWorkspace"==At.current.value?t:parseInt(At.current.value),search_id:Ee,name:Yt.current.value,description:Qt.current.value,is_active:"Y"};Object(x.a)({method:"POST",url:"/activity-management/workspace/savesearch",data:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((t=>{e.updateSubscriptionCount({download_count:e.download_count,subscriptionId:e.subscriptionId,dataAccess_count:e.dataAccess_count,totalWorkspace:e.totalWorkspace-1,subUserCount:e.subUserCount,queryPerDay:e.queryPerDay}),va({totalWorkspace:e.totalWorkspace-1}),f.a.fire({title:"Success",text:"Search query saved successfully",icon:"success"})})).catch((e=>{console.log("Err",e);let t="Somethhing went wrong, please try again.";e.data.errorMsg&&(t=e.data.errorMsg),f.a.fire({title:"Oops!",text:t,icon:"error"})})),Pa()};Object(r.useEffect)((()=>{Object(x.a)({method:"GET",url:`/activity-management/workspace/list?userId=${t}`}).then((e=>{ra(e.data.workspaceList)})).catch((e=>{console.log("Err",e)})),rr()}),[]);const er=(e,t,a)=>{if(e&&e.length>=2){let r=[],s=[[],[],[]];const i={tradeType:t.tradeType,fromDate:t.fromDate,toDate:t.toDate,searchBy:""==a?t.searchBy:t.queryBuilder[a-1].searchBy,searchValue:e,countryCode:t.countryCode,matchType:""==a?t.matchType:t.queryBuilder[a-1].matchType};Object(p.a)({method:"POST",url:"/search-management/suggestionlist",data:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((e=>{e.data.suggestionList&&(e.data.suggestionList.map((e=>{let t={value:e.listSuggestion,label:e.listSuggestion};r.push(t)})),""==a?it(r):(s[a-1]=r,console.log("query builder ========== ",s),ot(s)))})).catch((e=>{}))}},tr=e=>Object(q.jsx)(C.o.MenuList,{...e,children:e.children}),ar=t=>{Wt(t),Object(T.a)({method:"GET",url:`masterdata-management/countrylistbytrade/${t}`}).then((t=>{let a=[],r=[];t.data.countryList&&(t.data.countryList.forEach((e=>{r.push({value:e.shortcode,label:e.name});let t=Object.assign(e,{hasChild:!1});a.push(t)})),a=t.data.countryList.length>0&&e.countryList.length>0&&t.data.countryList.filter((t=>e.countryList.includes(t.shortcode))),ia(a),oa(r))})).catch((e=>{ia([])}))},rr=()=>{if(console.log("Search Id on list 1 page>>>> ",P),P){let e=[],t=[];Object(p.a)({method:"GET",url:"/search-management/search/details",params:{searchId:P}}).then((a=>{if(a.data.queryList){let r=a.data.queryList[0].userSearchQuery;_={..._,tradeType:r.tradeType,matchType:r.matchType,searchBy:r.searchBy,searchValue:r.searchValue,countryCode:r.countryCode,fromDate:r.fromDate?new Date(r.fromDate):"",toDate:r.toDate?new Date(r.toDate):"",dateRange:P?"6":"",queryBuilder:r.queryBuilder?r.queryBuilder:[],cityDestinationList:r.cityDestinationList,cityOriginList:r.cityOriginList,exporterList:r.exporterList,hsCode4DigitList:r.hsCode4DigitList,hsCodeList:r.hsCodeList,importerList:r.importerList,portDestinationList:r.portDestinationList,portOriginList:r.portOriginList,shipmentModeList:r.shipModeList?r.shipModeList:[],stdUnitList:r.stdUnitList?r.stdUnitList:[],minQuantity:r.rangeQuantityStart?r.rangeQuantityStart:null,maxQuantity:r.rangeQuantityEnd?r.rangeQuantityEnd:null,consumptionTypeList:r.consumptionType?r.consumptionType:[],minValue:r.rangeValueUsdStart?r.rangeValueUsdStart:null,maxValue:r.rangeValueUsdEnd?r.rangeValueUsdEnd:null,minUnitPrice:r.rangeUnitPriceUsdStart?r.rangeUnitPriceUsdStart:null,maxUnitPrice:r.rangeUnitPriceUsdEnd?r.rangeUnitPriceUsdEnd:null,incotermList:r.incoterm?r.incoterm:[],notifyPartyList:r.notifyParty?r.notifyParty:[]},Dt(r.countryCode),r.searchValue.map(((t,a)=>{let r={value:t,label:t};e.push(r)})),ua(e),r.queryBuilder&&r.queryBuilder.length>0&&r.queryBuilder.map(((e,a)=>{let r=[];e.searchValue.map(((e,t)=>{let a={value:e,label:e};r.push(a)})),t[a]=r})),ha(t),console.log("initialValues Start ======= ",_),dt(a.data.queryList[0].isDownloaded),mt(a.data.queryList[0].totalRecords),"IMPORT"==r.tradeType?sr("I",r.countryCode,r.tradeType,_):sr("E",r.countryCode,r.tradeType,_)}})).catch((e=>{console.log("Err",e)}))}},sr=(t,a,r,s)=>{Wt(t),Object(T.a)({method:"GET",url:`masterdata-management/countrylistbytrade/${t}`}).then((t=>{let i=[],n=[],o=[];if(t.data.countryList){t.data.countryList.forEach((e=>{n.push({value:e.shortcode,label:e.name});let t=Object.assign(e,{hasChild:!1});i.push(t)})),i=t.data.countryList.length>0&&e.countryList.length>0&&t.data.countryList.filter((t=>e.countryList.includes(t.shortcode))),ia(i),oa(n);const c=i.filter((e=>a.some((t=>e.shortcode.toLowerCase()===t.toLowerCase()))));c.forEach((e=>{o.push({value:e.shortcode,label:e.name})})),da(o),xt(c[0].importerForExport),St(c[0].exporterForImport),function(e,t,a){const r=a.filter((t=>e.some((e=>t.shortcode.toLowerCase()===e.toLowerCase()))));if(console.log("Temp Row On setDate >>> ",r),!r.length)return;let s="",i="";"I"===t?(s=d()(r[0].importFrom).format("MM-DD-YYYY"),i=d()(r[0].importUpto).format("MM-DD-YYYY")):(s=d()(r[0].exportFrom).format("MM-DD-YYYY"),i=d()(r[0].exportUpto).format("MM-DD-YYYY"));ja(new Date(s)),ba(new Date(i)),new Date(i)}(a,r,t.data.countryList),Ma(s,i)}})).catch((e=>{ia([])}))};function ir(e,t){if(!e||0===e.length)return void f.a.fire({title:"Error !",text:"Please select at least one country",icon:"error",confirmButtonColor:"#3085d6"});let a=[],r=[];if(e.forEach((e=>{let s=sa.find((t=>t.shortcode.toLowerCase()===e.value.toLowerCase()));s&&("I"===t?(a.push(d()(s.importFrom).toDate()),r.push(d()(s.importUpto).toDate())):(a.push(d()(s.exportFrom).toDate()),r.push(d()(s.exportUpto).toDate())))})),a.length>0&&r.length>0){let e=new Date(Math.min(...a)),t=new Date(Math.max(...r));return console.log("Min Date >>>>",e),console.log("Max Date >>> ",t),ja(e),ba(t),t}}Object(r.useEffect)((()=>()=>{localStorage.removeItem("searchParam")}),[]);const nr=(t,a,r,s,i,n)=>Object(q.jsx)(h.b,{name:"queryBuilder",render:s=>Object(q.jsx)(q.Fragment,{children:t.queryBuilder&&t.queryBuilder.length>0?t.queryBuilder.map(((o,c)=>Object(q.jsxs)(n,{children:[Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-2",children:Object(q.jsx)("div",{className:"input-search",children:Object(q.jsxs)(h.a,{name:`queryBuilder[${c}].relation`,component:"select",className:"hero__form-input form-control custom-select "+(r.matchType&&a.matchType?"is-invalid":""),autoComplete:"off",onChange:t=>{e.queryPerDay>0?(i(`queryBuilder[${c}].relation`,t.target.value),ht(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&or()},children:[Object(q.jsx)("option",{value:"",children:"Select Relation"}),Object(q.jsx)("option",{value:"AND",children:"AND"})]})})}),Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-2",children:Object(q.jsx)("div",{className:"input-search",children:Object(q.jsxs)(h.a,{name:`queryBuilder[${c}].searchBy`,component:"select",className:"hero__form-input form-control custom-select "+(r.searchBy&&a.searchBy?"is-invalid":""),autoComplete:"off",onChange:t=>{e.queryPerDay>0?("PRODUCT"==t.target.value?i(`queryBuilder[${c}].matchType`,"C"):i(`queryBuilder[${c}].matchType`,"L"),i(`queryBuilder[${c}].searchBy`,t.target.value),ht(!1),pa.length=1):e.queryPerDay<=0&&null!=e.queryPerDay&&or()},children:[Object(q.jsx)("option",{value:"",children:"Select Type"}),Object(q.jsx)("option",{value:"HS_CODE",children:"HS Code"}),Object(q.jsx)("option",{value:"PRODUCT",children:"Product"}),"EXPORT"==t.tradeType&&"Y"==ft||"IMPORT"==t.tradeType?Object(q.jsx)("option",{value:"IMPORTER",children:"Importer"}):null,"IMPORT"==t.tradeType&&"Y"==Tt||"EXPORT"==t.tradeType?Object(q.jsx)("option",{value:"EXPORTER",children:"Exporter"}):null]})})}),Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-2",children:Object(q.jsx)("div",{className:"input-search",children:Object(q.jsxs)(h.a,{name:`queryBuilder[${c}].matchType`,component:"select",className:"hero__form-input form-control custom-select "+(r.matchType&&a.matchType?"is-invalid":""),autoComplete:"off",onChange:t=>{e.queryPerDay>0?(i(`queryBuilder[${c}].matchType`,t.target.value),pa.length=1,ht(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&or()},children:[Object(q.jsx)("option",{value:"",children:"Select"}),t.queryBuilder&&t.queryBuilder.length>0&&t.queryBuilder[c].hasOwnProperty("searchBy")&&"PRODUCT"==t.queryBuilder[c].searchBy?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("option",{value:"C",children:"Contains"}),Object(q.jsx)("option",{value:"D",children:"Does Not Contains"})," "]}):null,Object(q.jsx)("option",{value:"L",children:"Like"})]})})}),pa&&pa.length>0?Object(q.jsx)("div",{className:"col-md-4 pr-0 pb-3",children:Object(q.jsx)("div",{className:"input-search",children:Object(q.jsxs)(y.a,{children:[Object(q.jsx)(U.a,{placeholder:"Select an individual",name:`queryBuilder[${c}].searchValue`,options:nt[c],isMulti:!0,isOptionDisabled:()=>t.queryBuilder[c].searchValue&&t.queryBuilder[c].searchValue.length>=10,noOptionsMessage:()=>"name not found",components:{MenuList:tr},onInputChange:a=>e.queryPerDay>0?er(a,t,c+1):null,onChange:t=>{if(e.queryPerDay>0){let e=[];ht(!1),t.forEach((t=>{e.push(t.value)})),i(`queryBuilder[${c}].searchValue`,e)}else e.queryPerDay<=0&&null!=e.queryPerDay&&or()},defaultValue:pa[c]}),a.searchValue&&r.searchValue?Object(q.jsx)("span",{className:"errorMsg",children:a.searchValue}):null]})})}):null,Object(q.jsxs)("div",{className:"col-md-2 pr-0 pb-2",children:["HS_CODE_2"!=t.searchBy||t.queryBuilder.length>1?Object(q.jsx)("button",{type:"button",className:"btn btn-warning",onClick:()=>s.remove(c),children:"-"}):null,"\xa0\xa0",t.queryBuilder.length<3?Object(q.jsx)("button",{type:"button",className:"btn btn-warning",onClick:()=>s.push({relation:"",searchBy:"",matchType:"",searchValue:""}),children:"+"}):null]})]},c))):Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-3",children:v?null:Object(q.jsx)("button",{type:"reset",className:"btn btn-warning",onClick:()=>s.push({relation:"",searchBy:"",matchType:"",searchValue:""}),children:"ADD"})})})}),or=()=>{f.a.fire({title:"Search !",text:"Your Search Limit Exhausted",icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"})};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col-md-12 list-page mt-3",children:[Object(q.jsxs)("div",{className:"search-top",children:[Object(q.jsx)("h5",{children:"Select Search Parameters"}),Object(q.jsx)(h.d,{enableReinitialize:!0,initialValues:_,validationSchema:R,onSubmit:t=>{if(t.searchValue&&t.searchValue.length>0){ht(!0),ue([]),je([]),xe([]),Ze([]),re([]),oe([]),Ue([]),ve([]),ze([]),bt([]),t.isMainSearch=!0;let a=!1,r="";t.searchBy,t.searchValue.map(((e,t)=>{e.length<2&&(a=!0,r="Search Values should be greater than or equal to 2 digits")})),t.queryBuilder.length>0&&t.queryBuilder.map(((e,t)=>{"HS_CODE"==e.searchBy?e.searchValue.length>0&&e.searchValue.map(((e,t)=>{e.length<4&&(a=!0,r="Search Values should be greater than or equal to 4 digits")})):e.searchValue.length>0&&e.searchValue.map(((e,t)=>{e.length<2&&(a=!0,r="Search Values should be greater than or equal to 2 digits")}))})),1==a?f.a.fire({title:"Alert !",text:r,icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"}):(e.loadingStart(),Ma(t))}else f.a.fire({title:"Alert !",text:"Enter Search Values",icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"})},resetForm:!0,children:t=>{let{values:a,errors:s,setFieldValue:i,setFieldError:c,touched:l,isValid:u,handleSubmit:p,submitForm:m,setFieldTouched:g,resetForm:j}=t;return Object(q.jsxs)(h.c,{children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-md-3 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"input-search",children:[Object(q.jsxs)(h.a,{name:"tradeType",component:"select",className:"hero__form-input form-control custom-select "+(l.tradeType&&s.tradeType?"is-invalid":""),autoComplete:"off",value:a.tradeType,onChange:t=>{e.queryPerDay>0?(i("tradeType",t.target.value),i("countryCode",""),i("fromDate",""),i("toDate",""),i("dateRange",""),ht(!1),$([]),rt([]),Me(""),Ve("desc"),ar("IMPORT"==t.target.value?"I":"E")):e.queryPerDay<=0&&null!=e.queryPerDay&&or()},children:[Object(q.jsx)("option",{value:"",children:"Select Trade"}),Object(q.jsx)("option",{value:"IMPORT",children:"Import"}),Object(q.jsx)("option",{value:"EXPORT",children:"Export"})]}),s.tradeType&&l.tradeType?Object(q.jsx)("span",{className:"errorMsg",children:s.tradeType}):null]})}),Object(q.jsxs)("div",{className:"col-md-3 pr-0 pb-3",children:[Object(q.jsx)(o.a,{options:na,value:ca,onChange:e=>{da(e);const t=e.map((e=>e.value));console.log("selectedValues >>> ",t),i("countryCode",t),i("fromDate",""),i("toDate",""),i("dateRange",""),ir(e,a.tradeType)},labelledBy:"Select"}),s.countryCode&&l.countryCode?Object(q.jsx)("span",{className:"errorMsg",children:s.countryCode}):null]}),Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"dropdown bootstrap-select hero__form-input",children:[Object(q.jsxs)(h.a,{name:"dateRange",component:"select",className:"hero__form-input form-control custom-select "+(l.dateRange&&s.dateRange?"is-invalid":""),autoComplete:"off",value:a.dateRange,onChange:t=>{if(e.queryPerDay>0){e.loadingStart(),ht(!1),i("dateRange",t.target.value);let r=ir(ca,a.tradeType),s=d()(r).diff(d()(e.dataAccessUpto),"days")>0?e.dataAccessUpto:r,n="";if(a.countryCode.includes("IND")||a.countryCode.includes("SEZ")){const e=d()().diff(d()(s),"days")>0?s:new Date,t=new Date(e);t.setDate(1),n=d()(t).subtract(1,"days")}else n=d()().diff(d()(s),"days")>0?s:new Date;let o="",c="",l="";if(""!=n)switch(t.target.value){case"1":o=new Date(n),o.setDate(1),c=d()(o).diff(d()(e.dataAccessInMonth),"days"),i("fromDate",c>=0?new Date(o):new Date(e.dataAccessInMonth)),i("toDate",new Date(n)),e.loadingStop();break;case"2":l=d()(n).subtract(3,"months").add(5,"days").format("YYYY-MM-DD"),o=new Date(l),o.setDate(1),c=d()(o).diff(d()(e.dataAccessInMonth),"days"),i("fromDate",c>=0?new Date(o):new Date(e.dataAccessInMonth)),i("toDate",new Date(n)),e.loadingStop();break;case"3":l=d()(n).subtract(6,"months").add(5,"days").format("YYYY-MM-DD"),o=new Date(l),o.setDate(1),c=d()(o).diff(d()(e.dataAccessInMonth),"days"),i("fromDate",c>=0?new Date(o):new Date(e.dataAccessInMonth)),i("toDate",new Date(n)),e.loadingStop();break;case"4":l=d()(n).subtract(12,"months").add(5,"days").format("YYYY-MM-DD"),o=new Date(l),o.setDate(1),c=d()(o).diff(d()(e.dataAccessInMonth),"days"),i("fromDate",c>=0?new Date(o):new Date(e.dataAccessInMonth)),i("toDate",new Date(n)),e.loadingStop();break;default:i("toDate",""),i("fromDate",""),e.loadingStop()}}else e.queryPerDay<=0&&null!=e.queryPerDay&&or()},children:[Object(q.jsx)("option",{value:"",children:" Chose Month Range"}),Object(q.jsx)("option",{value:"1",children:"LAST 1 MONTH"}),Object(q.jsx)("option",{value:"2",children:"LAST 3 MONTHS"}),Object(q.jsx)("option",{value:"3",children:"LAST 6 MONTHS"}),Object(q.jsx)("option",{value:"4",children:"LAST 1 YEAR"}),Object(q.jsx)("option",{value:"6",children:"CUSTOM"})]}),s.dateRange&&l.dateRange?Object(q.jsx)("span",{className:"errorMsg",children:s.dateRange}):null]})}),Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"input-search",children:[Object(q.jsx)(n.a,{name:"fromDate",dateFormat:"yyyy MMM dd  ",placeholderText:"From",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,minDate:d()(ga).diff(d()(e.dataAccessInMonth),"days")>0?new Date(ga):new Date(e.dataAccessInMonth),maxDate:null==e.dataAccessUpto||""==e.dataAccessUpto||d()(e.dataAccessUpto).diff(d()(La),"days")>0?new Date(La):new Date(e.dataAccessUpto),className:"form-control",dropdownMode:"select",onChange:t=>{e.queryPerDay>0?(i("fromDate",t),g("fromDate"),i("dateRange",6),ht(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&or()},selected:a.fromDate}),s.fromDate&&l.fromDate?Object(q.jsx)("span",{className:"errorMsg",children:s.fromDate}):null]})}),Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"input-search",children:[Object(q.jsx)(n.a,{name:"toDate",dateFormat:"yyyy MMM dd  ",placeholderText:"To",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,minDate:d()(ga).diff(d()(e.dataAccessInMonth),"days")>0?new Date(ga):new Date(e.dataAccessInMonth),maxDate:null==e.dataAccessUpto||""==e.dataAccessUpto||d()(e.dataAccessUpto).diff(d()(La),"days")>0?new Date(La):new Date(e.dataAccessUpto),className:"form-control",dropdownMode:"select",onChange:t=>{e.queryPerDay>0?(i("toDate",t),g("toDate"),i("dateRange",6),ht(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&or()},selected:a.toDate}),s.toDate&&l.toDate?Object(q.jsx)("span",{className:"errorMsg",children:s.toDate}):null]})})]}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-md-3 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"input-search",children:[Object(q.jsxs)(h.a,{name:"searchBy",component:"select",className:"hero__form-input form-control custom-select "+(l.searchBy&&s.searchBy?"is-invalid":""),autoComplete:"off",value:a.searchBy,onChange:t=>{e.queryPerDay>0?("PRODUCT"==t.target.value?i("matchType","C"):i("matchType","L"),la.length=1,i("searchBy",t.target.value),ht(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&or()},children:[Object(q.jsx)("option",{value:"",children:"Select Type"}),Object(q.jsx)("option",{value:"HS_CODE_2",children:"HS Code 2 digit"}),Object(q.jsx)("option",{value:"HS_CODE",children:"HS Code"}),Object(q.jsx)("option",{value:"PRODUCT",children:"Product"}),"EXPORT"==a.tradeType&&"Y"==ft||"IMPORT"==a.tradeType?Object(q.jsx)("option",{value:"IMPORTER",children:"Importer"}):null,"IMPORT"==a.tradeType&&"Y"==Tt||"EXPORT"==a.tradeType?Object(q.jsx)("option",{value:"EXPORTER",children:"Exporter"}):null]}),s.searchBy&&l.searchBy?Object(q.jsx)("span",{className:"errorMsg",children:s.searchBy}):null]})}),Object(q.jsx)("div",{className:"col-md-3 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"input-search",children:[Object(q.jsxs)(h.a,{name:"matchType",component:"select",className:"hero__form-input form-control custom-select "+(l.matchType&&s.matchType?"is-invalid":""),autoComplete:"off",value:a.matchType,onChange:t=>{e.queryPerDay>0?(i("matchType",t.target.value),la.length=1,ht(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&or()},children:[Object(q.jsx)("option",{value:"",children:"Select"}),"PRODUCT"==a.searchBy?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("option",{value:"C",children:"Contains"}),Object(q.jsx)("option",{value:"D",children:"Does Not Contains"})," "]}):null,Object(q.jsx)("option",{value:"L",children:"Like"})]}),s.matchType&&l.matchType?Object(q.jsx)("span",{className:"errorMsg",children:s.matchType}):null]})}),la&&la.length>0?Object(q.jsx)("div",{className:"col-md-4 pr-0 pb-3",children:Object(q.jsx)("div",{className:"input-search",children:Object(q.jsxs)(y.a,{children:[Object(q.jsx)(U.a,{placeholder:"HS_CODE"==a.searchBy?"Enter min 4 digit":"Enter min 2 chars",name:"searchValue",options:st,isMulti:!0,isOptionDisabled:()=>a.searchValue&&a.searchValue.length>=10,noOptionsMessage:()=>"name not found",components:{MenuList:tr},onInputChange:t=>e.queryPerDay>0?er(t,a,""):null,onChange:t=>{if(e.queryPerDay>0){let e=[],r=[],s=!1;ht(!1),t.forEach((t=>{e.push(t.value),"HS_CODE_2"==a.searchBy&&(s=!0)})),1==s&&(r[0]={relation:"",searchBy:"",matchType:"",searchValue:""},i("queryBuilder",r)),i("searchValue",e)}else e.queryPerDay<=0&&null!=e.queryPerDay&&or()},defaultValue:la}),s.searchValue&&l.searchValue?Object(q.jsx)("span",{className:"errorMsg",children:s.searchValue}):null]})})}):null]}),Object(q.jsx)("div",{className:"row",children:nr(a,s,l,0,i,r.Fragment)}),v?null:Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col-md-2 pr-0 pb-3",children:[Object(q.jsx)("button",{type:"reset",className:"btn btn-warning",onClick:e=>{((e,t)=>{te([]),$([]),ua([]),ha([]),e("fromDate",""),e("toDate",""),e("searchValue",[]),e("countryCode",""),e("matchType",""),e("searchBy",""),e("tradeType",""),e("dateRange",""),rt([]),z(0),t.tradeType="",t.searchBy="",t.matchType="",t.countryCode="",t.searchValue="",t.toDate="",t.fromDate="",t.dateRange="",ie([]),de([]),he([]),me([]),Se([]),tt([]),be([]),De([]),Xe([]),jt([]),localStorage.removeItem("searchParam"),Ne(""),Dt(""),console.log("values === ",t)})(i,a)},children:"Reset"})," \xa0",Object(q.jsx)("button",{type:"submit",disabled:pt,onClick:e=>{e.preventDefault(),Ne(""),i("searchFlag",!0),p()},className:"btn btn-primary",children:"Search"})]})})]})}})]}),ee&&ee.tradeType&&F.length>0?Object(q.jsxs)("div",{className:"row searchCountBlk",children:[Object(q.jsx)("div",{className:"col-md-12 text-center",children:Object(q.jsxs)("h3",{children:["Search Result of ",ee.tradeType.toLowerCase()," data from\xa0",d()(ee.fromDate).format("DD-MMM-YYYY")," to ",d()(ee.toDate).format("DD-MMM-YYYY")]})}),0==lt?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("div",{className:"col-lg-2 col-md-2 offset-md-1",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-body bg-soft-primary",children:[Object(q.jsx)("div",{className:"avatar",children:Object(q.jsx)("span",{className:"avatar-title bg-soft-primary rounded",children:Object(q.jsx)("i",{className:"icon ion-ios-barcode text-primary font-size-24"})})}),Object(q.jsxs)("div",{className:"list-in",children:[Object(q.jsx)("p",{className:"text-muted mt-0 mb-0",children:"HSCODE"}),Object(q.jsx)("h4",{className:"mt-0 mb-0",children:Te.length})]})]}),qe&&Object(q.jsx)("div",{className:"loaderBox",children:Object(q.jsx)("div",{className:"loader"})})]})}),Object(q.jsx)("div",{className:"col-lg-2 col-md-2",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-body bg-soft-success",children:[Object(q.jsx)("div",{className:"avatar",children:Object(q.jsx)("span",{className:"avatar-title bg-soft-success rounded",children:Object(q.jsx)("i",{className:"icon ion-md-filing text-primary font-size-24"})})}),Object(q.jsxs)("div",{className:"list-in",children:[Object(q.jsx)("p",{className:"text-muted mt-0 mb-0",children:"Total Shipment"}),Object(q.jsx)("h4",{className:"mt-0 mb-0",children:K})]})]}),Je&&Object(q.jsx)("div",{className:"loaderBox",children:Object(q.jsx)("div",{className:"loader"})})]})}),Object(q.jsx)("div",{className:"col-lg-2 col-md-2",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-body bg-soft-primary",children:[Object(q.jsx)("div",{className:"avatar",children:Object(q.jsx)("span",{className:"avatar-title bg-soft-primary rounded",children:Object(q.jsx)("i",{className:"icon ion-md-business text-primary font-size-24"})})}),Object(q.jsxs)("div",{className:"list-in",children:[Object(q.jsxs)("p",{className:"text-muted mt-0 mb-0",children:[" ","E"==Jt?"Country Of Destination":"Country Of Origin"]}),Object(q.jsx)("h4",{className:"mt-0 mb-0",children:Le.length})]})]}),Ie&&Object(q.jsx)("div",{className:"loaderBox",children:Object(q.jsx)("div",{className:"loader"})})]})}),"IMPORT"==ee.tradeType&&"Y"==Tt||"EXPORT"==ee.tradeType?Object(q.jsx)("div",{className:"col-lg-2 col-md-2",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-body bg-soft-success",children:[Object(q.jsx)("div",{className:"avatar",children:Object(q.jsx)("span",{className:"avatar-title bg-soft-success rounded",children:Object(q.jsx)("i",{className:"icon ion-md-filing text-primary font-size-24"})})}),Object(q.jsxs)("div",{className:"list-in",children:[Object(q.jsx)("p",{className:"text-muted mt-0 mb-0",children:"Exporter"}),Object(q.jsx)("h4",{className:"mt-0 mb-0",children:ce&&ce.length})]})]}),Fe&&Object(q.jsx)("div",{className:"loaderBox",children:Object(q.jsx)("div",{className:"loader"})})]})}):null,"EXPORT"==ee.tradeType&&"Y"==ft||"IMPORT"==ee.tradeType?Object(q.jsx)("div",{className:"col-lg-2 col-md-2",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-body bg-soft-primary",children:[Object(q.jsx)("div",{className:"avatar",children:Object(q.jsx)("span",{className:"avatar-title bg-soft-primary rounded",children:Object(q.jsx)("i",{className:"icon ion-ios-business text-primary font-size-24"})})}),Object(q.jsxs)("div",{className:"list-in",children:[Object(q.jsx)("p",{className:"text-muted mt-0 mb-0",children:"Importer"}),Object(q.jsx)("h4",{className:"mt-0 mb-0",children:se&&se.length})]})]}),Ae&&Object(q.jsx)("div",{className:"loaderBox",children:Object(q.jsx)("div",{className:"loader"})})]})}):null]}):Object(q.jsxs)("div",{className:"col-lg-12 col-md-12 text-center",children:[Object(q.jsx)("p",{children:"\xa0"}),Object(q.jsx)("p",{children:"\xa0"}),Object(q.jsx)("img",{src:a(546).default}),Object(q.jsx)("h4",{children:Object(q.jsx)("p",{children:"Sorry we couldn't find any matches."})}),Object(q.jsx)("h2",{children:"Please Try Again"})]})]}):null,Object(q.jsx)(E.a,{children:Object(q.jsx)("div",{class:"ad-butt",children:Object(q.jsx)("button",{className:"btn btn-primary ad-butt-button",onClick:()=>k(!A),children:Object(q.jsx)("i",{className:"icon ion-md-search text-light font-size-35"})})})}),Object(q.jsx)("div",{ref:Q}),at.length>0?"E"===Jt?Object(q.jsx)(b.a,{exportToCSV:wa,searchResult:F,limit:J,page:H,setPage:X,handleChangeLimit:Ba,totalRecord:K,searchLoading:G,setOrderByColumn:Me,setOrderByMode:Ve,orderByColumn:Be,orderByMode:we,setWorkspace:Ea,showModal:Ft,filteredColumn:at,saveQuery:Na,search_id:Ee||P,state:e.location.state,exportSelectedToCSV:Va,importerDataList:se,countryCode:Ot,newColumnsKeys:e.location.state&&e.location.state.columnKeys?e.location.state.columnKeys:[],importerForExport:ft,exporterForImport:Tt,filterCountryList:Ta}):Object(q.jsx)(L.a,{exportToCSV:wa,searchResult:F,limit:J,page:H,setPage:X,handleChangeLimit:Ba,totalRecord:K,searchLoading:G,setOrderByColumn:Me,setOrderByMode:Ve,orderByColumn:Be,orderByMode:we,setWorkspace:Ea,showModal:Ft,filteredColumn:at,saveQuery:Na,search_id:Ee||P,state:e.location.state,exportSelectedToCSV:Va,importerDataList:se,countryCode:Ot,newColumnsKeys:e.location.state&&e.location.state.columnKeys?e.location.state.columnKeys:[],importerForExport:ft,exporterForImport:Tt,filterCountryList:Ta}):lt?Object(q.jsx)("div",{children:Object(q.jsx)("h2",{children:"No records found"})}):null]})}),A&&Object(q.jsx)(O.a,{toggleFromChild:k,importerDataList:se,exporterDataList:ce,portOriginDataList:pe,portDestinationDataList:ye,countryOriginList:Le,countryDestinationList:Oe,hsCodeDataList:Te,shipmentModeDataList:He,shipmentModeList:Ke,type:ee.tradeType,countryCode:ee.countryCode,updateFilter:Ga,portOriginList:le,portDestinationList:ge,hsCodeList:fe,importerList:ae,exporterList:ne,cityOriginList:Ce,cityDestinationList:Pe,hsCode4digitDataList:et,hsCode4DigitList:Ge,fetchSearchQuery:rr,resetFilter:e=>{mt(0),dt("N"),Ga(e)},stdUnitList:Lt,stdUnitDataList:gt,searchId:Ee,importerForExport:ft,exporterForImport:Tt,consumptionType:Pt,consumptionTypeDataList:Et,incotermList:Bt,incotermDataList:wt,notifyPartyList:qt,notifyPartyDataList:It})]}),Object(q.jsx)("div",{id:"reportXLS",hidden:!0,children:Oa&&Oa.length>0?Object(q.jsx)(w.a,{filteredArray:Oa,tradeType:Jt,countryCode:Ot}):null}),Object(q.jsxs)(m.a,{show:Ft,onHide:Pa,backdrop:"static",keyboard:!1,children:[Object(q.jsx)(m.a.Header,{closeButton:!0,children:Object(q.jsx)(m.a.Title,{children:"Save search"})}),Object(q.jsx)(m.a.Body,{children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsxs)("div",{className:"col-md-12",children:[Object(q.jsx)("label",{children:"Workspace:"}),Object(q.jsxs)("select",{className:"form-control",ref:At,onChange:e=>{(e=>{"newWorkspace"==e.target.value?ma(!0):ma(!1)})(e)},children:[Object(q.jsx)("option",{children:"--select--"}),Object(q.jsx)("option",{value:"newWorkspace",children:"Create New Workspace"}),aa.map(((e,t)=>Object(q.jsx)("option",{value:e.id,children:e.name},t)))]}),ea&&Object(q.jsx)("p",{className:"error",children:ea})]}),ya?Object(q.jsxs)("div",{className:"col-md-12",children:[Object(q.jsx)("label",{children:"New workspace name:"}),Object(q.jsx)("input",{type:"text",name:"title",ref:kt,className:"form-control"}),Gt&&Object(q.jsx)("p",{className:"error",children:Gt})]}):null,Object(q.jsxs)("div",{className:"col-md-12",children:[Object(q.jsx)("label",{children:"Title:"}),Object(q.jsx)("input",{type:"text",name:"title",ref:Yt,className:"form-control"}),Ht&&Object(q.jsx)("p",{className:"error",children:Ht})]}),Object(q.jsxs)("div",{className:"col-md-12",children:[Object(q.jsx)("label",{children:"Description:"}),Object(q.jsx)("input",{type:"text",name:"title",ref:Qt,className:"form-control"}),Kt&&Object(q.jsx)("p",{className:"error",children:Kt})]})]})}),Object(q.jsxs)(m.a.Footer,{children:[Object(q.jsx)(g.a,{variant:"secondary",onClick:Pa,children:"Close"}),Object(q.jsx)(g.a,{variant:"primary",onClick:()=>{(()=>{if(At.current.value&&"newWorkspace"==At.current.value)if(At.current.value&&kt.current.value&&Yt.current.value&&Qt.current.value){const e={name:kt.current.value,is_active:"Y"};Object(x.a)({method:"POST",url:"/activity-management/workspace",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{Za(e.data)})).catch((e=>{console.log("Err",e)}))}else At.current.value?ta(""):ta("Please select workspace name"),kt.current.value?Zt(""):Zt("Please enter workspace name"),Yt.current.value?Xt(""):Xt("Please enter title"),Qt.current.value?zt(""):zt("Please enter description");else At.current.value&&Yt.current.value&&Qt.current.value?Za():(At.current.value&&"--select--"!=At.current.value?ta(""):ta("Please enter workspace name"),Yt.current.value?Xt(""):Xt("Please enter title"),Qt.current.value?zt(""):zt("Please enter description"))})()},children:"Submit"})]})]})]})})))}}]);
//# sourceMappingURL=7.04f448b8.chunk.js.map