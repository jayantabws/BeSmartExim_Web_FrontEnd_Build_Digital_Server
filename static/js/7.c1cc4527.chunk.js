(this.webpackJsonpbedatos_web=this.webpackJsonpbedatos_web||[]).push([[7],{986:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a(34),i=a(164),n=a.n(i),o=(a(334),a(335),a(211),a(44)),c=a(11),d=a.n(c),l=a(389),u=a(361),p=a(25),h=a(26),y=a(326),m=a(32),g=a(99),j=a(27),L=a(425),O=a(470),b=a(251),D=a(20),f=a.n(D),x=a(48),T=a(116),S=a(40),C=a(22),U=a(215),P=(a(33),a(303)),v=a(252),E=a.n(v),N=a(49),B=a(38),w=a(55),M=a(390),V=(a(545),a(475)),q=a(0);let _={tradeType:"",searchBy:"",searchValue:"",countryCode:"",fromDate:"",toDate:"",matchType:"",dateRange:"",searchFlag:!1,queryBuilder:[],SearchQueryCount:0,isMainSearch:!1};const I=e=>window.scrollTo(0,e.current.offsetTop);const R=j.b().shape({tradeType:j.c().required("Please select trade type"),searchBy:j.c().required("This field is required"),matchType:j.c().required("This field is required"),dateRange:j.c().required("This field is required"),fromDate:j.a().required("This field is required").test("checkGreaterStartEndTimes","From date should be less than To date",(function(e){return!e||Object(P.a)(e,this.parent.toDate)})),toDate:j.a().required("This field is required").test("checkGreaterStartEndTimes","To date should be greater than From date",(function(e){return!e||Object(P.a)(this.parent.fromDate,e)})).test("checkGreaterTimes","To date should be less than 3 years",(function(e){return!e||Object(P.b)(this.parent.fromDate,e)}))});t.default=Object(s.i)(Object(w.b)((e=>({loading:e.loader.loading,download_count:e.data.download_count,subscriptionId:e.data.subscriptionId,dataAccess_count:e.data.dataAccess_count,totalWorkspace:e.data.totalWorkspace,subUserCount:e.data.subUserCount,queryPerDay:e.data.queryPerDay,downloadArray:e.data.downloadArray,countryList:e.data.countryList,dataAccessInMonth:e.data.dataAccessInMonth,download_count_subUser:e.data.download_count_subUser,dataAccessUpto:e.data.dataAccessUpto,maxDownload:e.data.maxDownload})),(e=>({loadingStart:()=>e(Object(N.a)()),loadingStop:()=>e(Object(N.b)()),updateSubscriptionCount:t=>e(Object(B.i)(t)),updateDownloadArrayCount:t=>e(Object(B.h)(t)),setDloadCountSubuser:t=>e(Object(B.d)(t)),setSearchQuery:t=>e(Object(B.f)(t))})))((e=>{const t=localStorage.getItem("userToken"),i=localStorage.getItem("user"),c=i?JSON.parse(i):{},j=(c.firstname,c.lastname,c.email,c.uplineId>0?c.uplineId:c.userid),D=Object(s.g)(),P=e.location.state?e.location.state.search_id:null,v=e.location.state&&e.location.state.search_type?e.location.state.search_type:"",N=e.location.state&&e.location.state.workspace_id?e.location.state.workspace_id:"",B=e.location.state?e.location.state.workspace_name:"",w=e.location.state?e.location.state.workspace_desc:"",Y=e.location.state?e.location.state.workspaceId:"",Q=[{value:e&&e.location.state&&e.location.state.searchValue,label:e&&e.location.state&&e.location.state.searchValue}],A=Object(r.useRef)(),[k,F]=Object(r.useState)(!1),[J,$]=Object(r.useState)([]),[W,H]=Object(r.useState)(20),[X,K]=Object(r.useState)(1),[z,G]=Object(r.useState)(0),[Z,ee]=Object(r.useState)(!1),[te,ae]=Object(r.useState)(_.searchValue),[re,se]=Object(r.useState)([]),[ie,ne]=Object(r.useState)([]),[oe,ce]=Object(r.useState)([]),[de,le]=Object(r.useState)([]),[ue,pe]=Object(r.useState)([]),[he,ye]=Object(r.useState)([]),[me,ge]=Object(r.useState)([]),[je,Le]=Object(r.useState)([]),[Oe,be]=Object(r.useState)([]),[De,fe]=Object(r.useState)([]),[xe,Te]=Object(r.useState)([]),[Se,Ce]=Object(r.useState)([]),[Ue,Pe]=Object(r.useState)([]),[ve,Ee]=Object(r.useState)([]),[Ne,Be]=Object(r.useState)(),[we,Me]=Object(r.useState)(""),[Ve,qe]=Object(r.useState)("desc"),[_e,Ie]=Object(r.useState)(!1),[Re,Ye]=Object(r.useState)(!1),[Qe,Ae]=Object(r.useState)(!1),[ke,Fe]=Object(r.useState)(!1),[Je,$e]=Object(r.useState)(!1),[We,He]=Object(r.useState)(!1),[Xe,Ke]=Object(r.useState)([]),[ze,Ge]=Object(r.useState)([]),[Ze,et]=Object(r.useState)([]),[tt,at]=Object(r.useState)([]),[rt,st]=Object(r.useState)([]),[it,nt]=Object(r.useState)([]),[ot,ct]=Object(r.useState)([]),[dt,lt]=Object(r.useState)(""),[ut,pt]=Object(r.useState)(!1),[ht,yt]=Object(r.useState)(!0),[mt,gt]=Object(r.useState)(0),[jt,Lt]=Object(r.useState)([]),[Ot,bt]=Object(r.useState)([]),[Dt,ft]=Object(r.useState)(""),[xt,Tt]=Object(r.useState)(""),[St,Ct]=Object(r.useState)(""),[Ut,Pt]=Object(r.useState)([]),[vt,Et]=Object(r.useState)([]),[Nt,Bt]=Object(r.useState)([]),[wt,Mt]=Object(r.useState)([]),[Vt,qt]=Object(r.useState)([]),[_t,It]=Object(r.useState)([]),[Rt,Yt]=Object(r.useState)([]),Qt=Object(r.useRef)(),At=Object(r.useRef)(),kt=Object(r.useRef)(),Ft=Object(r.useRef)(),[Jt,$t]=Object(r.useState)(!1),[Wt,Ht]=Object(r.useState)(""),[Xt,Kt]=Object(r.useState)(""),[zt,Gt]=Object(r.useState)(""),[Zt,ea]=Object(r.useState)(""),[ta,aa]=Object(r.useState)(""),[ra,sa]=Object(r.useState)([]),[ia,na]=Object(r.useState)([]),[oa,ca]=Object(r.useState)([]),[da,la]=Object(r.useState)([]),[ua,pa]=Object(r.useState)([]),[ha,ya]=Object(r.useState)([]),[ma,ga]=Object(r.useState)(!1),[ja,La]=Object(r.useState)(new Date),[Oa,ba]=Object(r.useState)(new Date),[Da,fa]=Object(r.useState)([]),[xa,Ta]=Object(r.useState)(1),[Sa,Ca]=Object(r.useState)([]),[Ua,Pa]=Object(r.useState)([]),va=()=>{$t(!Jt),Kt(""),Gt(""),ea(""),aa("")},Ea=t=>{Object(S.a)({method:"PUT",url:`user-management/user-subscription/update/${e.subscriptionId}`,data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{console.log("user",e.data)})).catch((e=>{console.log("Err",e)}))};Object(r.useEffect)((()=>{Object(V.a)(D)}),[e.loading,ua,ra,Z]);const Na=t=>{e.totalWorkspace>0?f.a.fire({title:"Create Workspace !",text:`Available Limit ${e.totalWorkspace}. \n Are you sure you want to Create New Workspace ?`,icon:"warning",dangerMode:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then((e=>{e.value&&$t(t)})):f.a.fire({title:"Create Workspace !",text:"Your Workspace Limit Exhausted",icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"}).then((e=>{}))},Ba=()=>{const e={workspace_id:N,search_id:Ne,name:B,description:w,is_active:"Y",id:Y};Object(x.a)({method:"POST",url:"/activity-management/workspace/savesearch",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{f.a.fire({title:"Success",text:"Search query saved successfully",icon:"success"})})).catch((e=>{let t="Somethhing went wrong, please try again.";e.data.errorMsg&&(t=e.data.errorMsg),f.a.fire({title:"Oops!",text:t,icon:"error"})}))};Object(r.useEffect)((()=>()=>{_={}}),[]),Object(r.useEffect)((()=>{te&&te.tradeType&&Ra(te),e&&e.location.state&&e.location.state.searchValue&&pa(Q),_={..._,tradeType:e&&e.location.state&&e.location.state.tradeType?e.location.state.tradeType:"",matchType:"",searchBy:e&&e.location.state&&e.location.state.searchType?e.location.state.searchType:"",searchValue:e&&e.location.state&&e.location.state.searchType,countryCode:e&&e.location.state&&e.location.state.countryCode,fromDate:"",toDate:"",dateRange:"",queryBuilder:[]},e&&e.location.state&&e.location.state.tradeType&&rr(e&&e.location.state&&"IMPORT"==e.location.state.tradeType?"I":"E")}),[X,W,we,Ve]);const wa=e=>{K(1),H(e)},Ma=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"TRADE";lt("N"),e.loadingStart();var s=[];s.searchType=r,s.tradeType=t.tradeType,s.searchBy=t.searchBy,s.searchValue=t.searchValue,s.countryCode=t.countryCode,s.fromDate=d()(t.fromDate).format("YYYY-MM-DD"),s.toDate=d()(t.toDate).format("YYYY-MM-DD"),s.matchType=t.matchType,s.searchFlag=t.searchFlag,s.queryBuilder=t.queryBuilder,t.portOriginList&&(pe(t.portOriginList),s.portOriginList=t.portOriginList),t.portDestinationList&&(Le(t.portDestinationList),s.portDestinationList=t.portDestinationList),t.hsCodeList&&(Te(t.hsCodeList),s.hsCodeList=t.hsCodeList),t.hsCode4DigitList&&(et(t.hsCode4DigitList),s.hsCode4DigitList=t.hsCode4DigitList),t.importerList&&(se(t.importerList),s.importerList=t.importerList),t.exporterList&&(ce(t.exporterList),s.exporterList=t.exporterList),t.cityOriginList&&(Pe(t.cityOriginList),s.cityOriginList=t.cityOriginList),t.cityDestinationList&&(Ee(t.cityDestinationList),s.cityDestinationList=t.cityDestinationList),t.shipmentModeList&&(Ge(t.shipmentModeList),s.shipmentModeList=t.shipmentModeList),t.stdUnitList&&(bt(t.stdUnitList),s.stdUnitList=t.stdUnitList),t.minQuantity&&(s.rangeQuantityStart=t.minQuantity),t.maxQuantity&&(s.rangeQuantityEnd=t.maxQuantity),t.minValue&&(s.rangeValueUsdStart=t.minValue),t.maxValue&&(s.rangeValueUsdEnd=t.maxValue),t.minUnitPrice&&(s.rangeUnitPriceUsdStart=t.minUnitPrice),t.maxUnitPrice&&(s.rangeUnitPriceUsdEnd=t.maxUnitPrice),t.consumptionTypeList&&(Et(t.consumptionTypeList),s.consumptionType=t.consumptionTypeList),t.incotermList&&(Mt(t.incotermList),s.incoterm=t.incotermList),t.notifyPartyList&&(It(t.notifyPartyList),s.notifyParty=t.notifyPartyList),t.descriptionList&&(s.conditionProductDesc=t.conditionProductDescription,s.productDesc=t.descriptionList),s.isMainSearch=t.isMainSearch,ae(s);let i={tradeType:t.tradeType,searchBy:t.searchBy,searchValue:t.searchValue,countryCode:t.countryCode,fromDate:d()(t.fromDate).format("YYYY-MM-DD"),toDate:d()(t.toDate).format("YYYY-MM-DD"),matchType:t.matchType};localStorage.setItem("searchParam",JSON.stringify(i)),""!=Ne?(st([]),Ia(s,a)):e.queryPerDay>0?Ia(s):e.queryPerDay<=0&&null!=e.queryPerDay&&(e.loadingStop(),f.a.fire({title:"Search !",text:"Your Search Limit Exhausted",icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"}).then((e=>{})))},Va=()=>{if(z*xa<=e.maxDownload)if(te&&te.tradeType){const t={searchType:"TRADE",tradeType:te.tradeType,fromDate:te.fromDate,toDate:te.toDate,searchBy:te.searchBy,searchValue:te.searchValue,countryCode:te.countryCode,pageNumber:0,numberOfRecords:Math.round(e.maxDownload/xa),searchId:"",hsCodeList:xe,exporterList:oe,importerList:re,cityOriginList:Ue,cityDestinationList:ve,portOriginList:ue,portDestinationList:je,orderByColumn:we,orderByMode:Ve,matchType:te.matchType,hsCode4DigitList:Ze,queryBuilder:te.queryBuilder,shipModeList:ze,stdUnitList:Ot};Object(p.a)({method:"POST",url:"search-management/search",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];const a=te.countryCode.map((e=>e.toUpperCase())),r=(a.includes("IND"),a.includes("SEZ"),te.tradeType.toLowerCase());t="export"===r?e.data.expForeignList:"import"===r?e.data.impForeignList:[];let s=[];new Date;for(let i=0;i<t.length;i++){let e={},a=t[i];for(let t in a){a[t];null!=a[t]&&(e[t]=a[t])}s.push(e)}fa(s),_a(te,1,s)})).catch((e=>{console.log("Err == ",e),ee(!1)}))}else f.a.fire({title:"Alert!",text:"Please Search data first, then export",icon:"error",confirmButtonText:"OK"});else f.a.fire({title:"Alert!",text:`You cannot download more than ${Math.round(e.maxDownload/xa)} records in a single search. Please refine your search criteria.`,icon:"error",confirmButtonText:"OK"})},qa=t=>{e.download_count,t.length;let a=[],r=[];J.map(((e,r)=>{t.map(((t,r)=>{e.id==t&&a.push(e)}))}));for(let e=0;e<a.length;e++){let t={},s=a[e];for(let e in s){s[e];null!=s[e]&&(t[e]=s[e])}r.push(t)}fa(r),_a(te,2,r)},_a=(a,r,s)=>{let i=[],n=[],o=[];i=JSON.parse(JSON.stringify(e.downloadArray));for(let e=0;e<s.length;e++){let t=s[e];i.includes(t.id)?console.log("Download values found ========= ",t.id):(n.push(t.id),i.push(t.id),o.push(t))}const d=o.reduce(((e,t)=>{const a=oa.find((e=>e.value===t.ctry_code));return a?e+a.weightagePoints:e}),0),p=s.reduce(((e,t)=>{const a=oa.find((e=>e.value===t.ctry_code));return a?e+a.weightagePoints:e}),0);let h=e.download_count-d,y=e.download_count_subUser-p;h>0&&(c.uplineId>0&&y>0||0==c.uplineId)?f.a.fire({title:"Download!",html:`Available Download <b>${c.uplineId>0?e.download_count_subUser:e.download_count}</b>. <br> Total Record to Download <b>${c.uplineId>0?s.length:n.length}</b>. \n        <br> Total Points to deduct <b>${c.uplineId>0?p:d}</b>.<br> Remaining Download <b>${c.uplineId>0?y:h}</b>. <br> Are you sure you want to Download ?`,icon:"warning",dangerMode:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then((r=>{if(r.value){const r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",d=".xlsx",p=a.tradeType+"_"+a.countryCode+"_"+a.fromDate+"_"+a.toDate,m={Sheets:{data:u.a.table_to_sheet(document.getElementById("reportXLS"),{header:1})},SheetNames:["data"]},g=u.b(m,{bookType:"xlsx",type:"array"}),L=new Blob([g],{type:r});l.saveAs(L,p+d),ee(!1),c.uplineId>0?e.setDloadCountSubuser({download_count_subUser:y}):e.updateSubscriptionCount({download_count:h,subscriptionId:e.subscriptionId,dataAccess_count:e.dataAccess_count,subUserCount:e.subUserCount,totalWorkspace:e.totalWorkspace,queryPerDay:e.queryPerDay}),n.length>0&&e.updateDownloadArrayCount({downloadArray:i}),Ea({downloadLimit:h}),c.uplineId>0&&(o={downloadLimit:y},Object(S.a)({method:"PUT",url:`user-management/user/${t}`,data:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((e=>{console.log("user",e.data)})).catch((e=>{console.log("Err",e)}))),(t=>{e.downloadArray;const a={userId:j,downloadedRecords:t};Object(x.a)({method:"POST",url:"/activity-management/download-tracker/update",data:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>{console.log("user",e.data)})).catch((e=>{console.log("Err",e)}))})(i),Aa(Ne,s.length)}var o})):f.a.fire({title:"Download!",text:"Your Download Limit Exhausted",icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"}).then((e=>{}))},Ia=function(t){console.log("params ---------- ",t),I(A),ee(!0),He(!0),"E"==t.tradeType||t.tradeType,Ta(1);let a=[];const r={searchType:t.searchType,tradeType:t.tradeType,fromDate:t.fromDate,toDate:t.toDate,searchBy:t.searchBy,searchValue:t.searchValue,countryCode:t.countryCode,pageNumber:0,numberOfRecords:W,hsCodeList:t.hsCodeList,exporterList:t.exporterList,importerList:t.importerList,cityOriginList:t.cityOriginList,cityDestinationList:t.cityDestinationList,portOriginList:t.portOriginList,portDestinationList:t.portDestinationList,orderByColumn:we,orderByMode:Ve,hsCode4DigitList:t.hsCode4DigitList,matchType:t.matchType,queryBuilder:t.queryBuilder,shipModeList:t.shipmentModeList,stdUnitList:t.stdUnitList,rangeQuantityStart:t.rangeQuantityStart,rangeQuantityEnd:t.rangeQuantityEnd,consumptionType:t.consumptionType,rangeValueUsdStart:t.rangeValueUsdStart,rangeValueUsdEnd:t.rangeValueUsdEnd,rangeUnitPriceUsdStart:t.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:t.rangeUnitPriceUsdEnd,incoterm:t.incoterm,notifyParty:t.notifyParty,productDesc:t.productDesc,conditionProductDesc:t.conditionProductDesc};console.log("params.returnSearchId === ",N),t.returnSearchId&&(r.searchId=t.returnSearchId),!P||void 0!=N&&""!=N||t.isMainSearch||(r.searchId=P),Object(p.a)({method:"POST",url:"search-management/search",data:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((async s=>{e.setSearchQuery(r);const i=t.countryCode.map((e=>e.toUpperCase())),n=(i.includes("IND"),i.includes("SEZ"),t.tradeType.toLowerCase());if(a="export"===n?s.data.expForeignList:"import"===n?s.data.impForeignList:[],a&&a.length>0){$(a),pt(!1),Ya(t,s.data.searchId);let i=[],n=Object.keys(a[0]);for(var o in n)null!=a[0][n[o]]&&i.push(n[o]);st(i),Be(s.data.searchId),1==t.searchFlag&&""==we&&(e.updateSubscriptionCount({download_count:e.download_count,subscriptionId:e.subscriptionId,dataAccess_count:e.dataAccess_count,totalWorkspace:e.totalWorkspace,subUserCount:e.subUserCount,queryPerDay:e.queryPerDay-1}),Ea({queryPerDay:e.queryPerDay-1})),Object(p.a)({method:"POST",url:"search-management/countrywisecount",data:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((e=>{let t=e.data.countryWiseCount.map((e=>{let{ctry_code:t,ctry_name:a,shipment_count:r}=e;return{label:`${a} (${r})`,value:t}}));Ca(t)})),ka(t),Fa(t),Ja(t),$a(t),Wa(t),Ka(t),Xa(t),Ha(t),za(t),Ga(t),ee(!1),await async function(e){try{let t="export"==e.tradeType.toLowerCase()?"export_purpose":"import_purpose";e.columnName=t,Object(p.a)({method:"POST",url:"/search-management/listdistinctcolumnvalue",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{let t=e.data.distinctColumnValuesList.map((e=>{let{column_name:t,records_count:a}=e;return{label:`${t} (${a})`,value:t}}));Bt(t)}))}catch(t){console.log(t),Bt([])}}(r),await async function(e){try{e.columnName="incoterm",Object(p.a)({method:"POST",url:"/search-management/listdistinctcolumnvalue",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{let t=e.data.distinctColumnValuesList;if(t&&t.length>0){let e=t.map((e=>{let{column_name:t,records_count:a}=e;return{label:`${t} (${a})`,value:t}}));qt(e)}else qt([])}))}catch(t){console.log(t),qt([])}}(r),await async function(e){try{e.columnName="notify_party_name",Object(p.a)({method:"POST",url:"/search-management/listdistinctcolumnvalue",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{let t=e.data.distinctColumnValuesList.map((e=>{let{column_name:t,records_count:a}=e;return{label:`${t} (${a})`,value:t}}));Yt(t)}))}catch(t){console.log(t),Yt([])}}(r)}else $([]),ee(!1),G(0),st([]),pt(!0);e.loadingStop()})).catch((t=>{console.log("Err",t),Be(""),$([]),ee(!1),st([]),e.loadingStop()}))},Ra=t=>{I(A),ee(!0),He(!0);let a=[];const r={searchType:"TRADE",tradeType:t.tradeType,fromDate:t.fromDate,toDate:t.toDate,searchBy:t.searchBy,searchValue:t.searchValue,countryCode:t.countryCode,pageNumber:X-1,numberOfRecords:W,searchId:Ne,hsCodeList:t.hsCodeList,exporterList:t.exporterList,importerList:t.importerList,cityOriginList:t.cityOriginList,cityDestinationList:t.cityDestinationList,portOriginList:t.portOriginList,portDestinationList:t.portDestinationList,orderByColumn:we,orderByMode:Ve,hsCode4DigitList:t.hsCode4DigitList,matchType:t.matchType,queryBuilder:t.queryBuilder,shipModeList:t.shipmentModeList,stdUnitList:t.stdUnitList,rangeQuantityStart:t.rangeQuantityStart,rangeQuantityEnd:t.rangeQuantityEnd,consumptionType:t.consumptionType,rangeValueUsdStart:t.rangeValueUsdStart,rangeValueUsdEnd:t.rangeValueUsdEnd,rangeUnitPriceUsdStart:t.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:t.rangeUnitPriceUsdEnd,incoterm:t.incoterm,notifyParty:t.notifyParty,productDesc:t.productDesc,conditionProductDesc:t.conditionProductDesc};Object(p.a)({method:"POST",url:"search-management/search",data:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((r=>{const s=t.countryCode.map((e=>e.toUpperCase())),i=(s.includes("IND"),s.includes("SEZ"),t.tradeType.toLowerCase());if(a="export"===i?r.data.expForeignList:"import"===i?r.data.impForeignList:[],a&&a.length>0){$(a),pt(!1),Ya(t,r.data.searchId);let e=[],s=Object.keys(a[0]);for(var n in s)null!=a[0][s[n]]&&e.push(s[n]);st(e),Be(r.data.searchId),ee(!1)}else $([]),ee(!1),G(0),st([]),pt(!0);e.loadingStop()})).catch((t=>{console.log("Err",t),Be(""),$([]),ee(!1),st([]),e.loadingStop()}))},Ya=(e,t)=>{He(!0);const a={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:X-1,numberOfRecords:W,searchId:t,hsCodeList:e.hsCodeList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCode4DigitList:e.hsCode4DigitList,matchType:e.matchType,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/searchcount",data:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>{G(e.data),Qa(e.data,t),setTimeout(He(!1),1e3)})).catch((e=>{console.log("Err",e),G(0),pt(!0)}))},Qa=(e,t)=>{const a={totalRecords:e};Object(p.a)({method:"PUT",url:`/search-management/updatesearchcount/${t}`,data:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>{console.log("Res",e.data)})).catch((e=>{console.log("Err",e),G(0)}))},Aa=(e,t)=>{Object(p.a)({method:"PUT",url:`/search-management/downloadsearch?searchId=${e}&recordsDownloaded=${t}`,headers:{"Content-Type":"application/json"}}).then((e=>{console.log("Res",e.data)})).catch((e=>{console.log("Err",e)}))},ka=e=>{Fe(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:X-1,numberOfRecords:W,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ne,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listimporters",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.importersList&&e.data.importersList.forEach((e=>{let a={value:e.importer_name,label:e.importer_name+" ["+e.shipment_count+"]"};t.push(a)})),ne(t),Fe(!1)})).catch((e=>{console.log("Err"),ne([]),Fe(!1)}))},Fa=e=>{$e(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:X-1,numberOfRecords:W,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ne,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listexporters",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.exportersList&&e.data.exportersList.forEach((e=>{let a={value:e.exporter_name,label:e.exporter_name+" ["+e.shipment_count+"]"};t.push(a)})),le(t),$e(!1)})).catch((e=>{console.log("Err",e),le([]),$e(!1)}))},Ja=e=>{const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:X-1,numberOfRecords:W,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ne,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listindianports",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.portsList&&e.data.portsList.forEach((e=>{let a={value:e.port_name,label:e.port_name+" ["+e.shipment_count+"]"};t.push(a)})),ye(t)})).catch((e=>{console.log("Err",e),ye([])}))},$a=e=>{Ye(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:X-1,numberOfRecords:W,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ne,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listforeignports",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.portsList&&e.data.portsList.forEach((e=>{let a={value:e.port_name,label:e.port_name+"["+e.shipment_count+"]"};t.push(a)})),ge(t),Ye(!1)})).catch((e=>{console.log("Err",e),ge([]),Ye(!1)}))},Wa=e=>{Ie(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:d()(e.fromDate).format("YYYY-MM-DD"),toDate:d()(e.toDate).format("YYYY-MM-DD"),searchBy:e.searchBy?e.searchBy:"HS_CODE",searchValue:e.searchValue?e.searchValue:["2"],countryCode:e.countryCode,pageNumber:X-1,numberOfRecords:W,matchType:e.matchType?e.matchType:"L",portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ne,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listhscodes",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.hscodesList&&e.data.hscodesList.forEach((e=>{let a={value:e.hscode,label:e.hscode+" ["+e.shipment_count+"]"};t.push(a)})),Ce(t),Ie(!1)})).catch((e=>{console.log("Err",e),Ce([]),Ie(!1)}))},Ha=e=>{Ie(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:X-1,numberOfRecords:W,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ne,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listhscodes4digit",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.hscodesList&&e.data.hscodesList.forEach((e=>{let a={value:e.hscode,label:e.hscode+" ["+e.shipment_count+"]"};t.push(a)})),at(t),Ie(!1)})).catch((e=>{console.log("Err",e),at([]),Ie(!1)}))},Xa=e=>{Ae(!0);const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:X-1,numberOfRecords:W,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ne,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listforeigncountries",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.countriesList&&e.data.countriesList.forEach((e=>{let a={value:e.country_name,label:e.country_name+" ["+e.shipment_count+"]"};t.push(a)})),be(t),setTimeout(Ae(!1),1e3)})).catch((e=>{console.log("Err"),be([]),Ae(!1)}))},Ka=e=>{const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:X-1,numberOfRecords:W,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ne,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listindiancities",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.citiesList&&e.data.citiesList.forEach((e=>{let a={value:e.city_name,label:e.city_name+" ["+e.shipment_count+"]"};t.push(a)})),fe(t)})).catch((e=>{console.log("Err"),fe([])}))},za=e=>{const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:X-1,numberOfRecords:W,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ne,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/listshipmentmode",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.shipmentModeList&&e.data.shipmentModeList.forEach((e=>{let a={value:e.ship_mode,label:e.ship_mode};t.push(a)})),Ke(t)})).catch((e=>{console.log("Err"),Ke([])}))},Ga=e=>{const t={searchType:"TRADE",tradeType:e.tradeType,fromDate:e.fromDate,toDate:e.toDate,searchBy:e.searchBy,searchValue:e.searchValue,countryCode:e.countryCode,pageNumber:X-1,numberOfRecords:W,matchType:e.matchType,portOriginList:e.portOriginList,portDestinationList:e.portDestinationList,hsCodeList:e.hsCodeList,hsCode4DigitList:e.hsCode4DigitList,exporterList:e.exporterList,importerList:e.importerList,cityOriginList:e.cityOriginList,cityDestinationList:e.cityDestinationList,searchId:Ne,queryBuilder:e.queryBuilder,shipModeList:e.shipmentModeList,stdUnitList:e.stdUnitList,rangeQuantityStart:e.rangeQuantityStart,rangeQuantityEnd:e.rangeQuantityEnd,consumptionType:e.consumptionType,rangeValueUsdStart:e.rangeValueUsdStart,rangeValueUsdEnd:e.rangeValueUsdEnd,rangeUnitPriceUsdStart:e.rangeUnitPriceUsdStart,rangeUnitPriceUsdEnd:e.rangeUnitPriceUsdEnd,incoterm:e.incoterm,notifyParty:e.notifyParty,productDesc:e.productDesc,conditionProductDesc:e.conditionProductDesc};Object(p.a)({method:"POST",url:"/search-management/liststdunit",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{let t=[];e.data.stdUnitList&&e.data.stdUnitList.forEach((e=>{let a={value:e.std_unit,label:e.std_unit};t.push(a)})),Lt(t)})).catch((e=>{console.log("Err"),Lt([])}))},Za=e=>{if(e.portOriginList&&pe(e.portOriginList),e.portDestinationList&&Le(e.portDestinationList),e.hsCodeList&&Te(e.hsCodeList),e.hsCode4DigitList&&et(e.hsCode4DigitList),e.importerList&&se(e.importerList),e.exporterList&&ce(e.exporterList),e.cityOriginList&&Pe(e.cityOriginList),e.cityDestinationList&&Ee(e.cityDestinationList),e.shipmentModeList&&Ge(e.shipmentModeList),e.stdUnitList&&bt(e.stdUnitList),e.returnSearchId&&Pt(e.returnSearchId),e.consumptionTypeList&&Et(e.consumptionTypeList),e.incotermList&&Mt(e.incotermList),e.notifyPartyList&&It(e.notifyPartyList),te&&te.tradeType){let t=te;t.searchType="ADVANCE",t.portOriginList=e.portOriginList,t.portDestinationList=e.portDestinationList,t.hsCodeList=e.hsCodeList,t.importerList=e.importerList,t.exporterList=e.exporterList,t.cityOriginList=e.cityOriginList,t.cityDestinationList=e.cityDestinationList,t.hsCode4DigitList=e.hsCode4DigitList,t.shipmentModeList=e.shipmentModeList,t.stdUnitList=e.stdUnitList,t.searchFlag=!1,e.portOriginList&&(t.portOriginList=e.portOriginList),e.portDestinationList&&(t.portDestinationList=e.portDestinationList),e.hsCodeList&&(t.hsCodeList=e.hsCodeList),e.hsCode4DigitList&&(t.hsCode4DigitList=e.hsCode4DigitList),e.importerList&&(t.importerList=e.importerList),e.exporterList&&(t.exporterList=e.exporterList),e.cityOriginList&&(t.cityOriginList=e.cityOriginList),e.cityDestinationList&&(t.cityDestinationList=e.cityDestinationList),e.shipmentModeList&&(t.shipModeList=e.shipmentModeList),e.stdUnitList&&(t.stdUnitList=e.stdUnitList),e.minQuantity&&(t.rangeQuantityStart=e.minQuantity),e.maxQuantity&&(t.rangeQuantityEnd=e.maxQuantity),e.minValue&&(t.rangeValueUsdStart=e.minValue),e.maxValue&&(t.rangeValueUsdEnd=e.maxValue),e.minUnitPrice&&(t.rangeUnitPriceUsdStart=e.minUnitPrice),e.maxUnitPrice&&(t.rangeUnitPriceUsdEnd=e.maxUnitPrice),e.consumptionTypeList&&(t.consumptionType=e.consumptionTypeList),e.incotermList&&(t.incoterm=e.incotermList),e.notifyPartyList&&(t.notifyParty=e.notifyPartyList),e.descriptionList&&(t.conditionProductDesc=e.conditionProductDescription,t.productDesc=e.descriptionList),e.returnSearchId&&(t.returnSearchId=e.returnSearchId),ae(t),Ia(t)}F(!1)},er=t=>{const a={workspace_id:"newWorkspace"==kt.current.value?t:parseInt(kt.current.value),search_id:Ne,name:Qt.current.value,description:At.current.value,is_active:"Y"};Object(x.a)({method:"POST",url:"/activity-management/workspace/savesearch",data:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((t=>{e.updateSubscriptionCount({download_count:e.download_count,subscriptionId:e.subscriptionId,dataAccess_count:e.dataAccess_count,totalWorkspace:e.totalWorkspace-1,subUserCount:e.subUserCount,queryPerDay:e.queryPerDay}),Ea({totalWorkspace:e.totalWorkspace-1}),f.a.fire({title:"Success",text:"Search query saved successfully",icon:"success"})})).catch((e=>{console.log("Err",e);let t="Somethhing went wrong, please try again.";e.data.errorMsg&&(t=e.data.errorMsg),f.a.fire({title:"Oops!",text:t,icon:"error"})})),va()};Object(r.useEffect)((()=>{Object(x.a)({method:"GET",url:`/activity-management/workspace/list?userId=${t}`}).then((e=>{sa(e.data.workspaceList)})).catch((e=>{console.log("Err",e)})),sr()}),[]);const tr=(e,t,a)=>{if(e&&e.length>=2){let r=[],s=[[],[],[]];const i={tradeType:t.tradeType,fromDate:t.fromDate,toDate:t.toDate,searchBy:""==a?t.searchBy:t.queryBuilder[a-1].searchBy,searchValue:e,countryCode:t.countryCode,matchType:""==a?t.matchType:t.queryBuilder[a-1].matchType};Object(p.a)({method:"POST",url:"/search-management/suggestionlist",data:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((e=>{e.data.suggestionList&&(e.data.suggestionList.map((e=>{let t={value:e.listSuggestion,label:e.listSuggestion};r.push(t)})),""==a?nt(r):(s[a-1]=r,console.log("query builder ========== ",s),ct(s)))})).catch((e=>{}))}},ar=e=>Object(q.jsx)(C.o.MenuList,{...e,children:e.children}),rr=t=>{Ht(t),Object(T.a)({method:"GET",url:`masterdata-management/countrylistbytrade/${t}`}).then((a=>{let r=[],s=[];a.data.countryList&&(a.data.countryList.forEach((e=>{s.push({value:e.shortcode,label:e.name,weightagePoints:"E"==t?e.exportPointWeightage:e.importPointWeightage});let a=Object.assign(e,{hasChild:!1});r.push(a)})),r=a.data.countryList.length>0&&e.countryList.length>0&&a.data.countryList.filter((t=>e.countryList.includes(t.shortcode))),na(r),ca(s),console.log("Multiselect Trade cuntry list >>>> ",s))})).catch((e=>{na([])}))},sr=()=>{if(P){let e=[],t=[];Object(p.a)({method:"GET",url:"/search-management/search/details",params:{searchId:P}}).then((a=>{if(a.data.queryList){let r=a.data.queryList[0].userSearchQuery;_={..._,tradeType:r.tradeType,matchType:r.matchType,searchBy:r.searchBy,searchValue:r.searchValue,countryCode:r.countryCode,fromDate:r.fromDate?new Date(r.fromDate):"",toDate:r.toDate?new Date(r.toDate):"",dateRange:P?"6":"",queryBuilder:r.queryBuilder?r.queryBuilder:[],cityDestinationList:r.cityDestinationList,cityOriginList:r.cityOriginList,exporterList:r.exporterList,hsCode4DigitList:r.hsCode4DigitList,hsCodeList:r.hsCodeList,importerList:r.importerList,portDestinationList:r.portDestinationList,portOriginList:r.portOriginList,shipmentModeList:r.shipModeList?r.shipModeList:[],stdUnitList:r.stdUnitList?r.stdUnitList:[],minQuantity:r.rangeQuantityStart?r.rangeQuantityStart:null,maxQuantity:r.rangeQuantityEnd?r.rangeQuantityEnd:null,consumptionTypeList:r.consumptionType?r.consumptionType:[],minValue:r.rangeValueUsdStart?r.rangeValueUsdStart:null,maxValue:r.rangeValueUsdEnd?r.rangeValueUsdEnd:null,minUnitPrice:r.rangeUnitPriceUsdStart?r.rangeUnitPriceUsdStart:null,maxUnitPrice:r.rangeUnitPriceUsdEnd?r.rangeUnitPriceUsdEnd:null,incotermList:r.incoterm?r.incoterm:[],notifyPartyList:r.notifyParty?r.notifyParty:[]},ft(r.countryCode),r.searchValue.map(((t,a)=>{let r={value:t,label:t};e.push(r)})),pa(e),r.queryBuilder&&r.queryBuilder.length>0&&r.queryBuilder.map(((e,a)=>{let r=[];e.searchValue.map(((e,t)=>{let a={value:e,label:e};r.push(a)})),t[a]=r})),ya(t),console.log("initialValues Start ======= ",_),lt(a.data.queryList[0].isDownloaded),gt(a.data.queryList[0].totalRecords),"IMPORT"==r.tradeType?ir("I",r.countryCode,r.tradeType,_):ir("E",r.countryCode,r.tradeType,_)}})).catch((e=>{console.log("Err",e)}))}},ir=(t,a,r,s)=>{Ht(t),Object(T.a)({method:"GET",url:`masterdata-management/countrylistbytrade/${t}`}).then((i=>{let n=[],o=[],c=[];if(i.data.countryList){i.data.countryList.forEach((e=>{o.push({value:e.shortcode,label:e.name,weightagePoints:"E"==t?e.exportPointWeightage:e.importPointWeightage});let a=Object.assign(e,{hasChild:!1});n.push(a)})),n=i.data.countryList.length>0&&e.countryList.length>0&&i.data.countryList.filter((t=>e.countryList.includes(t.shortcode))),na(n),ca(o),console.log("Multi Country List Trade >>>>> ",o);const l=n.filter((e=>a.some((t=>e.shortcode.toLowerCase()===t.toLowerCase()))));l.forEach((e=>{c.push({value:e.shortcode,label:e.name})})),la(c),Tt(l[0].importerForExport),Ct(l[0].exporterForImport),function(e,t,a){const r=a.filter((t=>e.some((e=>t.shortcode.toLowerCase()===e.toLowerCase()))));if(console.log("Temp Row On setDate >>> ",r),!r.length)return;let s="",i="";"I"===t?(s=d()(r[0].importFrom).format("MM-DD-YYYY"),i=d()(r[0].importUpto).format("MM-DD-YYYY")):(s=d()(r[0].exportFrom).format("MM-DD-YYYY"),i=d()(r[0].exportUpto).format("MM-DD-YYYY"));La(new Date(s)),ba(new Date(i)),new Date(i)}(a,r,i.data.countryList),""!==v?Ma(s,n,v):Ma(s,n)}})).catch((e=>{na([])}))};function nr(e,t){if(!e||0===e.length)return void f.a.fire({title:"Error !",text:"Please select at least one country",icon:"error",confirmButtonColor:"#3085d6"});let a=[],r=[];if(e.forEach((e=>{let s=ia.find((t=>t.shortcode.toLowerCase()===e.value.toLowerCase()));s&&("I"===t?(a.push(d()(s.importFrom).toDate()),r.push(d()(s.importUpto).toDate())):(a.push(d()(s.exportFrom).toDate()),r.push(d()(s.exportUpto).toDate())))})),a.length>0&&r.length>0){let e=new Date(Math.min(...a)),t=new Date(Math.max(...r));return console.log("Min Date >>>>",e),console.log("Max Date >>> ",t),La(e),ba(t),t}}Object(r.useEffect)((()=>()=>{localStorage.removeItem("searchParam")}),[]);const or=(t,a,r,s,i,n)=>Object(q.jsx)(h.b,{name:"queryBuilder",render:s=>Object(q.jsx)(q.Fragment,{children:t.queryBuilder&&t.queryBuilder.length>0?t.queryBuilder.map(((o,c)=>Object(q.jsxs)(n,{children:[Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-2",children:Object(q.jsx)("div",{className:"input-search",children:Object(q.jsxs)(h.a,{name:`queryBuilder[${c}].relation`,component:"select",className:"hero__form-input form-control custom-select "+(r.matchType&&a.matchType?"is-invalid":""),autoComplete:"off",onChange:t=>{e.queryPerDay>0?(i(`queryBuilder[${c}].relation`,t.target.value),yt(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&cr()},children:[Object(q.jsx)("option",{value:"",children:"Select Relation"}),Object(q.jsx)("option",{value:"AND",children:"AND"})]})})}),Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-2",children:Object(q.jsx)("div",{className:"input-search",children:Object(q.jsxs)(h.a,{name:`queryBuilder[${c}].searchBy`,component:"select",className:"hero__form-input form-control custom-select "+(r.searchBy&&a.searchBy?"is-invalid":""),autoComplete:"off",onChange:t=>{e.queryPerDay>0?("PRODUCT"==t.target.value?i(`queryBuilder[${c}].matchType`,"C"):i(`queryBuilder[${c}].matchType`,"L"),i(`queryBuilder[${c}].searchBy`,t.target.value),yt(!1),ha.length=1):e.queryPerDay<=0&&null!=e.queryPerDay&&cr()},children:[Object(q.jsx)("option",{value:"",children:"Select Type"}),Object(q.jsx)("option",{value:"HS_CODE",children:"HS Code"}),Object(q.jsx)("option",{value:"PRODUCT",children:"Product"}),"EXPORT"==t.tradeType&&"Y"==xt||"IMPORT"==t.tradeType?Object(q.jsx)("option",{value:"IMPORTER",children:"Importer"}):null,"IMPORT"==t.tradeType&&"Y"==St||"EXPORT"==t.tradeType?Object(q.jsx)("option",{value:"EXPORTER",children:"Exporter"}):null]})})}),Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-2",children:Object(q.jsx)("div",{className:"input-search",children:Object(q.jsxs)(h.a,{name:`queryBuilder[${c}].matchType`,component:"select",className:"hero__form-input form-control custom-select "+(r.matchType&&a.matchType?"is-invalid":""),autoComplete:"off",onChange:t=>{e.queryPerDay>0?(i(`queryBuilder[${c}].matchType`,t.target.value),ha.length=1,yt(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&cr()},children:[Object(q.jsx)("option",{value:"",children:"Select"}),t.queryBuilder&&t.queryBuilder.length>0&&t.queryBuilder[c].hasOwnProperty("searchBy")&&"PRODUCT"==t.queryBuilder[c].searchBy?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("option",{value:"C",children:"Contains"}),Object(q.jsx)("option",{value:"D",children:"Does Not Contains"})," "]}):null,Object(q.jsx)("option",{value:"L",children:"Like"})]})})}),ha&&ha.length>0?Object(q.jsx)("div",{className:"col-md-4 pr-0 pb-3",children:Object(q.jsx)("div",{className:"input-search",children:Object(q.jsxs)(y.a,{children:[Object(q.jsx)(U.a,{placeholder:"Select an individual",name:`queryBuilder[${c}].searchValue`,options:ot[c],isMulti:!0,isOptionDisabled:()=>t.queryBuilder[c].searchValue&&t.queryBuilder[c].searchValue.length>=10,noOptionsMessage:()=>"name not found",components:{MenuList:ar},onInputChange:a=>e.queryPerDay>0?tr(a,t,c+1):null,onChange:t=>{if(e.queryPerDay>0){let e=[];yt(!1),t.forEach((t=>{e.push(t.value)})),i(`queryBuilder[${c}].searchValue`,e)}else e.queryPerDay<=0&&null!=e.queryPerDay&&cr()},defaultValue:ha[c]}),a.searchValue&&r.searchValue?Object(q.jsx)("span",{className:"errorMsg",children:a.searchValue}):null]})})}):null,Object(q.jsxs)("div",{className:"col-md-2 pr-0 pb-2",children:["HS_CODE_2"!=t.searchBy||t.queryBuilder.length>1?Object(q.jsx)("button",{type:"button",className:"btn btn-warning",onClick:()=>s.remove(c),children:"-"}):null,"\xa0\xa0",t.queryBuilder.length<3?Object(q.jsx)("button",{type:"button",className:"btn btn-warning",onClick:()=>s.push({relation:"",searchBy:"",matchType:"",searchValue:""}),children:"+"}):null]})]},c))):Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-3",children:N?null:Object(q.jsx)("button",{type:"reset",className:"btn btn-warning",onClick:()=>s.push({relation:"",searchBy:"",matchType:"",searchValue:""}),children:"ADD"})})})}),cr=()=>{f.a.fire({title:"Search !",text:"Your Search Limit Exhausted",icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"})};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col-md-12 list-page mt-3",children:[Object(q.jsxs)("div",{className:"search-top",children:[Object(q.jsx)("h5",{children:"Select Search Parameters"}),Object(q.jsx)(h.d,{enableReinitialize:!0,initialValues:_,validationSchema:R,onSubmit:t=>{if(t.searchValue&&t.searchValue.length>0){yt(!0),pe([]),Le([]),Te([]),et([]),se([]),ce([]),Pe([]),Ee([]),Ge([]),bt([]),t.isMainSearch=!0;let a=!1,r="";t.searchBy,t.searchValue.map(((e,t)=>{e.length<2&&(a=!0,r="Search Values should be greater than or equal to 2 digits")})),t.queryBuilder.length>0&&t.queryBuilder.map(((e,t)=>{"HS_CODE"==e.searchBy?e.searchValue.length>0&&e.searchValue.map(((e,t)=>{e.length<4&&(a=!0,r="Search Values should be greater than or equal to 4 digits")})):e.searchValue.length>0&&e.searchValue.map(((e,t)=>{e.length<2&&(a=!0,r="Search Values should be greater than or equal to 2 digits")}))})),1==a?f.a.fire({title:"Alert !",text:r,icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"}):(e.loadingStart(),Ma(t))}else f.a.fire({title:"Alert !",text:"Enter Search Values",icon:"error",dangerMode:!0,confirmButtonColor:"#3085d6"})},resetForm:!0,children:t=>{let{values:a,errors:s,setFieldValue:i,setFieldError:c,touched:l,isValid:u,handleSubmit:p,submitForm:m,setFieldTouched:g,resetForm:j}=t;return Object(q.jsxs)(h.c,{children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-md-3 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"input-search",children:[Object(q.jsxs)(h.a,{name:"tradeType",component:"select",className:"hero__form-input form-control custom-select "+(l.tradeType&&s.tradeType?"is-invalid":""),autoComplete:"off",value:a.tradeType,onChange:t=>{e.queryPerDay>0?(i("tradeType",t.target.value),i("countryCode",""),i("fromDate",""),i("toDate",""),i("dateRange",""),yt(!1),$([]),st([]),Me(""),qe("desc"),rr("IMPORT"==t.target.value?"I":"E")):e.queryPerDay<=0&&null!=e.queryPerDay&&cr()},children:[Object(q.jsx)("option",{value:"",children:"Select Trade"}),Object(q.jsx)("option",{value:"IMPORT",children:"Import"}),Object(q.jsx)("option",{value:"EXPORT",children:"Export"})]}),s.tradeType&&l.tradeType?Object(q.jsx)("span",{className:"errorMsg",children:s.tradeType}):null]})}),Object(q.jsxs)("div",{className:"col-md-3 pr-0 pb-3",children:[Object(q.jsx)(o.a,{options:oa,value:da,onChange:e=>{la(e);const t=e.map((e=>e.value));console.log("selectedValues >>> ",t),i("countryCode",t),i("fromDate",""),i("toDate",""),i("dateRange",""),nr(e,a.tradeType)},labelledBy:"Select"}),s.countryCode&&l.countryCode?Object(q.jsx)("span",{className:"errorMsg",children:s.countryCode}):null]}),Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"dropdown bootstrap-select hero__form-input",children:[Object(q.jsxs)(h.a,{name:"dateRange",component:"select",className:"hero__form-input form-control custom-select "+(l.dateRange&&s.dateRange?"is-invalid":""),autoComplete:"off",value:a.dateRange,onChange:t=>{if(e.queryPerDay>0){e.loadingStart(),yt(!1),i("dateRange",t.target.value);let r=nr(da,a.tradeType),s=d()(r).diff(d()(e.dataAccessUpto),"days")>0?e.dataAccessUpto:r,n="";if(a.countryCode.includes("IND")||a.countryCode.includes("SEZ")){const e=d()().diff(d()(s),"days")>0?s:new Date,t=new Date(e);t.setDate(1),n=d()(t).subtract(1,"days")}else n=d()().diff(d()(s),"days")>0?s:new Date;let o="",c="",l="";if(""!=n)switch(t.target.value){case"1":o=new Date(n),o.setDate(1),c=d()(o).diff(d()(e.dataAccessInMonth),"days"),i("fromDate",c>=0?new Date(o):new Date(e.dataAccessInMonth)),i("toDate",new Date(n)),e.loadingStop();break;case"2":l=d()(n).subtract(3,"months").add(5,"days").format("YYYY-MM-DD"),o=new Date(l),o.setDate(1),c=d()(o).diff(d()(e.dataAccessInMonth),"days"),i("fromDate",c>=0?new Date(o):new Date(e.dataAccessInMonth)),i("toDate",new Date(n)),e.loadingStop();break;case"3":l=d()(n).subtract(6,"months").add(5,"days").format("YYYY-MM-DD"),o=new Date(l),o.setDate(1),c=d()(o).diff(d()(e.dataAccessInMonth),"days"),i("fromDate",c>=0?new Date(o):new Date(e.dataAccessInMonth)),i("toDate",new Date(n)),e.loadingStop();break;case"4":l=d()(n).subtract(12,"months").add(5,"days").format("YYYY-MM-DD"),o=new Date(l),o.setDate(1),c=d()(o).diff(d()(e.dataAccessInMonth),"days"),i("fromDate",c>=0?new Date(o):new Date(e.dataAccessInMonth)),i("toDate",new Date(n)),e.loadingStop();break;default:i("toDate",""),i("fromDate",""),e.loadingStop()}}else e.queryPerDay<=0&&null!=e.queryPerDay&&cr()},children:[Object(q.jsx)("option",{value:"",children:" Choose Month Range"}),Object(q.jsx)("option",{value:"1",children:"LAST 1 MONTH"}),Object(q.jsx)("option",{value:"2",children:"LAST 3 MONTHS"}),Object(q.jsx)("option",{value:"3",children:"LAST 6 MONTHS"}),Object(q.jsx)("option",{value:"4",children:"LAST 1 YEAR"}),Object(q.jsx)("option",{value:"6",children:"CUSTOM"})]}),s.dateRange&&l.dateRange?Object(q.jsx)("span",{className:"errorMsg",children:s.dateRange}):null]})}),Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"input-search",children:[Object(q.jsx)(n.a,{name:"fromDate",dateFormat:"yyyy MMM dd  ",placeholderText:"From",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,minDate:d()(ja).diff(d()(e.dataAccessInMonth),"days")>0?new Date(ja):new Date(e.dataAccessInMonth),maxDate:null==e.dataAccessUpto||""==e.dataAccessUpto||d()(e.dataAccessUpto).diff(d()(Oa),"days")>0?new Date(Oa):new Date(e.dataAccessUpto),className:"form-control",dropdownMode:"select",onChange:t=>{e.queryPerDay>0?(i("fromDate",t),g("fromDate"),i("dateRange",6),yt(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&cr()},selected:a.fromDate}),s.fromDate&&l.fromDate?Object(q.jsx)("span",{className:"errorMsg",children:s.fromDate}):null]})}),Object(q.jsx)("div",{className:"col-md-2 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"input-search",children:[Object(q.jsx)(n.a,{name:"toDate",dateFormat:"yyyy MMM dd  ",placeholderText:"To",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,minDate:d()(ja).diff(d()(e.dataAccessInMonth),"days")>0?new Date(ja):new Date(e.dataAccessInMonth),maxDate:null==e.dataAccessUpto||""==e.dataAccessUpto||d()(e.dataAccessUpto).diff(d()(Oa),"days")>0?new Date(Oa):new Date(e.dataAccessUpto),className:"form-control",dropdownMode:"select",onChange:t=>{e.queryPerDay>0?(i("toDate",t),g("toDate"),i("dateRange",6),yt(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&cr()},selected:a.toDate}),s.toDate&&l.toDate?Object(q.jsx)("span",{className:"errorMsg",children:s.toDate}):null]})})]}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-md-3 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"input-search",children:[Object(q.jsxs)(h.a,{name:"searchBy",component:"select",className:"hero__form-input form-control custom-select "+(l.searchBy&&s.searchBy?"is-invalid":""),autoComplete:"off",value:a.searchBy,onChange:t=>{e.queryPerDay>0?("PRODUCT"==t.target.value?i("matchType","C"):i("matchType","L"),ua.length=1,i("searchBy",t.target.value),yt(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&cr()},children:[Object(q.jsx)("option",{value:"",children:"Select Type"}),Object(q.jsx)("option",{value:"HS_CODE_2",children:"HS Code 2 digit"}),Object(q.jsx)("option",{value:"HS_CODE",children:"HS Code"}),Object(q.jsx)("option",{value:"PRODUCT",children:"Product"}),"EXPORT"==a.tradeType&&"Y"==xt||"IMPORT"==a.tradeType?Object(q.jsx)("option",{value:"IMPORTER",children:"Importer"}):null,"IMPORT"==a.tradeType&&"Y"==St||"EXPORT"==a.tradeType?Object(q.jsx)("option",{value:"EXPORTER",children:"Exporter"}):null]}),s.searchBy&&l.searchBy?Object(q.jsx)("span",{className:"errorMsg",children:s.searchBy}):null]})}),Object(q.jsx)("div",{className:"col-md-3 pr-0 pb-3",children:Object(q.jsxs)("div",{className:"input-search",children:[Object(q.jsxs)(h.a,{name:"matchType",component:"select",className:"hero__form-input form-control custom-select "+(l.matchType&&s.matchType?"is-invalid":""),autoComplete:"off",value:a.matchType,onChange:t=>{e.queryPerDay>0?(i("matchType",t.target.value),ua.length=1,yt(!1)):e.queryPerDay<=0&&null!=e.queryPerDay&&cr()},children:[Object(q.jsx)("option",{value:"",children:"Select"}),"PRODUCT"==a.searchBy?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("option",{value:"C",children:"Contains"}),Object(q.jsx)("option",{value:"D",children:"Does Not Contains"})," "]}):null,Object(q.jsx)("option",{value:"L",children:"Like"})]}),s.matchType&&l.matchType?Object(q.jsx)("span",{className:"errorMsg",children:s.matchType}):null]})}),ua&&ua.length>0?Object(q.jsx)("div",{className:"col-md-4 pr-0 pb-3",children:Object(q.jsx)("div",{className:"input-search",children:Object(q.jsxs)(y.a,{children:[Object(q.jsx)(U.a,{placeholder:"HS_CODE"==a.searchBy?"Enter min 4 digit":"Enter min 2 chars",name:"searchValue",options:it,isMulti:!0,isOptionDisabled:()=>a.searchValue&&a.searchValue.length>=10,noOptionsMessage:()=>"name not found",components:{MenuList:ar},onInputChange:t=>e.queryPerDay>0?tr(t,a,""):null,onChange:t=>{if(e.queryPerDay>0){let e=[],r=[],s=!1;yt(!1),t.forEach((t=>{e.push(t.value),"HS_CODE_2"==a.searchBy&&(s=!0)})),1==s&&(r[0]={relation:"",searchBy:"",matchType:"",searchValue:""},i("queryBuilder",r)),i("searchValue",e)}else e.queryPerDay<=0&&null!=e.queryPerDay&&cr()},defaultValue:ua}),s.searchValue&&l.searchValue?Object(q.jsx)("span",{className:"errorMsg",children:s.searchValue}):null]})})}):null]}),Object(q.jsx)("div",{className:"row",children:or(a,s,l,0,i,r.Fragment)}),N?null:Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col-md-2 pr-0 pb-3",children:[Object(q.jsx)("button",{type:"reset",className:"btn btn-warning",onClick:e=>{((e,t)=>{ae([]),$([]),pa([]),ya([]),e("fromDate",""),e("toDate",""),e("searchValue",[]),e("countryCode",""),e("matchType",""),e("searchBy",""),e("tradeType",""),e("dateRange",""),st([]),G(0),t.tradeType="",t.searchBy="",t.matchType="",t.countryCode="",t.searchValue="",t.toDate="",t.fromDate="",t.dateRange="",ne([]),le([]),ye([]),ge([]),Ce([]),at([]),be([]),fe([]),Ke([]),Lt([]),localStorage.removeItem("searchParam"),Be(""),ft(""),console.log("values === ",t)})(i,a)},children:"Reset"})," \xa0",Object(q.jsx)("button",{type:"submit",disabled:ht,onClick:e=>{e.preventDefault(),Be(""),i("searchFlag",!0),p()},className:"btn btn-primary",children:"Search"})]})})]})}})]}),te&&te.tradeType&&J.length>0?Object(q.jsxs)("div",{className:"row searchCountBlk",children:[Object(q.jsx)("div",{className:"col-md-12 text-center",children:Object(q.jsxs)("h3",{children:["Search Result of ",te.tradeType.toLowerCase()," data from\xa0",d()(te.fromDate).format("DD-MMM-YYYY")," to ",d()(te.toDate).format("DD-MMM-YYYY")]})}),0==ut?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("div",{className:"col-lg-2 col-md-2 offset-md-1",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-body bg-soft-primary",children:[Object(q.jsx)("div",{className:"avatar",children:Object(q.jsx)("span",{className:"avatar-title bg-soft-primary rounded",children:Object(q.jsx)("i",{className:"icon ion-ios-barcode text-primary font-size-24"})})}),Object(q.jsxs)("div",{className:"list-in",children:[Object(q.jsx)("p",{className:"text-muted mt-0 mb-0",children:"HSCODE"}),Object(q.jsx)("h4",{className:"mt-0 mb-0",children:Se.length})]})]}),_e&&Object(q.jsx)("div",{className:"loaderBox",children:Object(q.jsx)("div",{className:"loader"})})]})}),Object(q.jsx)("div",{className:"col-lg-2 col-md-2",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-body bg-soft-success",children:[Object(q.jsx)("div",{className:"avatar",children:Object(q.jsx)("span",{className:"avatar-title bg-soft-success rounded",children:Object(q.jsx)("i",{className:"icon ion-md-filing text-primary font-size-24"})})}),Object(q.jsxs)("div",{className:"list-in",children:[Object(q.jsx)("p",{className:"text-muted mt-0 mb-0",children:"Total Shipment"}),Object(q.jsx)("h4",{className:"mt-0 mb-0",children:z})]})]}),We&&Object(q.jsx)("div",{className:"loaderBox",children:Object(q.jsx)("div",{className:"loader"})})]})}),Object(q.jsx)("div",{className:"col-lg-2 col-md-2",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-body bg-soft-primary",children:[Object(q.jsx)("div",{className:"avatar",children:Object(q.jsx)("span",{className:"avatar-title bg-soft-primary rounded",children:Object(q.jsx)("i",{className:"icon ion-md-business text-primary font-size-24"})})}),Object(q.jsxs)("div",{className:"list-in",children:[Object(q.jsxs)("p",{className:"text-muted mt-0 mb-0",children:[" ","E"==Wt?"Country Of Destination":"Country Of Origin"]}),Object(q.jsx)("h4",{className:"mt-0 mb-0",children:Oe.length})]})]}),Re&&Object(q.jsx)("div",{className:"loaderBox",children:Object(q.jsx)("div",{className:"loader"})})]})}),"IMPORT"==te.tradeType&&"Y"==St||"EXPORT"==te.tradeType?Object(q.jsx)("div",{className:"col-lg-2 col-md-2",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-body bg-soft-success",children:[Object(q.jsx)("div",{className:"avatar",children:Object(q.jsx)("span",{className:"avatar-title bg-soft-success rounded",children:Object(q.jsx)("i",{className:"icon ion-md-filing text-primary font-size-24"})})}),Object(q.jsxs)("div",{className:"list-in",children:[Object(q.jsx)("p",{className:"text-muted mt-0 mb-0",children:"Exporter"}),Object(q.jsx)("h4",{className:"mt-0 mb-0",children:de&&de.length})]})]}),Je&&Object(q.jsx)("div",{className:"loaderBox",children:Object(q.jsx)("div",{className:"loader"})})]})}):null,"EXPORT"==te.tradeType&&"Y"==xt||"IMPORT"==te.tradeType?Object(q.jsx)("div",{className:"col-lg-2 col-md-2",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-body bg-soft-primary",children:[Object(q.jsx)("div",{className:"avatar",children:Object(q.jsx)("span",{className:"avatar-title bg-soft-primary rounded",children:Object(q.jsx)("i",{className:"icon ion-ios-business text-primary font-size-24"})})}),Object(q.jsxs)("div",{className:"list-in",children:[Object(q.jsx)("p",{className:"text-muted mt-0 mb-0",children:"Importer"}),Object(q.jsx)("h4",{className:"mt-0 mb-0",children:ie&&ie.length})]})]}),ke&&Object(q.jsx)("div",{className:"loaderBox",children:Object(q.jsx)("div",{className:"loader"})})]})}):null]}):Object(q.jsxs)("div",{className:"col-lg-12 col-md-12 text-center",children:[Object(q.jsx)("p",{children:"\xa0"}),Object(q.jsx)("p",{children:"\xa0"}),Object(q.jsx)("img",{src:a(546).default}),Object(q.jsx)("h4",{children:Object(q.jsx)("p",{children:"Sorry we couldn't find any matches."})}),Object(q.jsx)("h2",{children:"Please Try Again"})]})]}):null,Object(q.jsx)(E.a,{children:Object(q.jsx)("div",{class:"ad-butt",children:Object(q.jsx)("button",{className:"btn btn-primary ad-butt-button",onClick:()=>F(!k),children:Object(q.jsx)("i",{className:"icon ion-md-search text-light font-size-35"})})})}),Object(q.jsx)("div",{ref:A}),rt.length>0?"E"===Wt?Object(q.jsx)(O.a,{exportToCSV:Va,searchResult:J,limit:W,page:X,setPage:K,handleChangeLimit:wa,totalRecord:z,searchLoading:Z,setOrderByColumn:Me,setOrderByMode:qe,orderByColumn:we,orderByMode:Ve,setWorkspace:Na,showModal:Jt,filteredColumn:rt,saveQuery:Ba,search_id:Ne||P,state:e.location.state,exportSelectedToCSV:qa,importerDataList:ie,countryCode:Dt,newColumnsKeys:e.location.state&&e.location.state.columnKeys?e.location.state.columnKeys:[],importerForExport:xt,exporterForImport:St,filterCountryList:Sa}):Object(q.jsx)(L.a,{exportToCSV:Va,searchResult:J,limit:W,page:X,setPage:K,handleChangeLimit:wa,totalRecord:z,searchLoading:Z,setOrderByColumn:Me,setOrderByMode:qe,orderByColumn:we,orderByMode:Ve,setWorkspace:Na,showModal:Jt,filteredColumn:rt,saveQuery:Ba,search_id:Ne||P,state:e.location.state,exportSelectedToCSV:qa,importerDataList:ie,countryCode:Dt,newColumnsKeys:e.location.state&&e.location.state.columnKeys?e.location.state.columnKeys:[],importerForExport:xt,exporterForImport:St,filterCountryList:Sa}):ut?Object(q.jsx)("div",{children:Object(q.jsx)("h2",{children:"No records found"})}):null]})}),k&&Object(q.jsx)(b.a,{toggleFromChild:F,importerDataList:ie,exporterDataList:de,portOriginDataList:he,portDestinationDataList:me,countryOriginList:Oe,countryDestinationList:De,hsCodeDataList:Se,shipmentModeDataList:Xe,shipmentModeList:ze,type:te.tradeType,countryCode:te.countryCode,updateFilter:Za,portOriginList:ue,portDestinationList:je,hsCodeList:xe,importerList:re,exporterList:oe,cityOriginList:Ue,cityDestinationList:ve,hsCode4digitDataList:tt,hsCode4DigitList:Ze,fetchSearchQuery:sr,resetFilter:e=>{gt(0),lt("N"),Za(e)},stdUnitList:Ot,stdUnitDataList:jt,searchId:Ne,importerForExport:xt,exporterForImport:St,consumptionType:vt,consumptionTypeDataList:Nt,incotermList:wt,incotermDataList:Vt,notifyPartyList:_t,notifyPartyDataList:Rt})]}),Object(q.jsx)("div",{id:"reportXLS",hidden:!0,children:Da&&Da.length>0?Object(q.jsx)(M.a,{filteredArray:Da,tradeType:Wt,countryCode:Dt}):null}),Object(q.jsxs)(m.a,{show:Jt,onHide:va,backdrop:"static",keyboard:!1,children:[Object(q.jsx)(m.a.Header,{closeButton:!0,children:Object(q.jsx)(m.a.Title,{children:"Save search"})}),Object(q.jsx)(m.a.Body,{children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsxs)("div",{className:"col-md-12",children:[Object(q.jsx)("label",{children:"Workspace:"}),Object(q.jsxs)("select",{className:"form-control",ref:kt,onChange:e=>{(e=>{"newWorkspace"==e.target.value?ga(!0):ga(!1)})(e)},children:[Object(q.jsx)("option",{children:"--select--"}),Object(q.jsx)("option",{value:"newWorkspace",children:"Create New Workspace"}),ra.map(((e,t)=>Object(q.jsx)("option",{value:e.id,children:e.name},t)))]}),ta&&Object(q.jsx)("p",{className:"error",children:ta})]}),ma?Object(q.jsxs)("div",{className:"col-md-12",children:[Object(q.jsx)("label",{children:"New workspace name:"}),Object(q.jsx)("input",{type:"text",name:"title",ref:Ft,className:"form-control"}),Zt&&Object(q.jsx)("p",{className:"error",children:Zt})]}):null,Object(q.jsxs)("div",{className:"col-md-12",children:[Object(q.jsx)("label",{children:"Title:"}),Object(q.jsx)("input",{type:"text",name:"title",ref:Qt,className:"form-control"}),Xt&&Object(q.jsx)("p",{className:"error",children:Xt})]}),Object(q.jsxs)("div",{className:"col-md-12",children:[Object(q.jsx)("label",{children:"Description:"}),Object(q.jsx)("input",{type:"text",name:"title",ref:At,className:"form-control"}),zt&&Object(q.jsx)("p",{className:"error",children:zt})]})]})}),Object(q.jsxs)(m.a.Footer,{children:[Object(q.jsx)(g.a,{variant:"secondary",onClick:va,children:"Close"}),Object(q.jsx)(g.a,{variant:"primary",onClick:()=>{(()=>{if(kt.current.value&&"newWorkspace"==kt.current.value)if(kt.current.value&&Ft.current.value&&Qt.current.value&&At.current.value){const e={name:Ft.current.value,is_active:"Y"};Object(x.a)({method:"POST",url:"/activity-management/workspace",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{er(e.data)})).catch((e=>{console.log("Err",e)}))}else kt.current.value?aa(""):aa("Please select workspace name"),Ft.current.value?ea(""):ea("Please enter workspace name"),Qt.current.value?Kt(""):Kt("Please enter title"),At.current.value?Gt(""):Gt("Please enter description");else kt.current.value&&Qt.current.value&&At.current.value?er():(kt.current.value&&"--select--"!=kt.current.value?aa(""):aa("Please enter workspace name"),Qt.current.value?Kt(""):Kt("Please enter title"),At.current.value?Gt(""):Gt("Please enter description"))})()},children:"Submit"})]})]})]})})))}}]);
//# sourceMappingURL=7.c1cc4527.chunk.js.map